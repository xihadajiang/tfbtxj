2016-08-22 09:54:31,783 T9060 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 09:54:45,987 T8312 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 09:54:46,109 T8312 INFO 组件[BEGIN]执行开始
2016-08-22 09:54:46,115 T8312 INFO 组件[STRAC_Commbuf]执行开始
2016-08-22 09:54:46,121 T8312 INFO 组件[STRAC_XMLTree]执行开始
2016-08-22 09:54:46,134 T8312 INFO 组件[Agentx_SysInit]执行开始
2016-08-22 09:54:46,140 T8312 INFO 组件[SDATA_MStrCompare]执行开始
2016-08-22 09:54:46,153 T8312 INFO 组件[SCNTR_CallSubFlow]执行开始
2016-08-22 09:54:46,154 T8312 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 09:54:46,170 T8312 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 09:54:46,186 T8312 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 09:54:46,200 T8312 INFO 组件[BEGIN]执行开始
2016-08-22 09:54:46,206 T8312 INFO 组件[SDATA_ImpFromBuf]执行开始
2016-08-22 09:54:46,213 T8312 INFO 组件[SDATA_MSetValue]执行开始
2016-08-22 09:54:46,219 T8312 INFO 组件[END]执行开始
2016-08-22 09:54:46,223 T8312 INFO return[0]
2016-08-22 09:54:46,227 T8312 INFO ret
2016-08-22 09:54:46,232 T8312 INFO 组件[END]执行开始
2016-08-22 09:54:46,234 T8312 INFO return[0]
2016-08-22 09:54:46,237 T8312 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 09:54:46,256 T8312 INFO 报文发往送到GAPS成功
2016-08-22 09:54:46,259 T8312 INFO 
--------------提交缓冲日志 END[2016-08-22 09:54:46.260000]---------------

2016-08-22 09:54:46,321 T9000 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 01:56:46 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 09:54:46,342 T9000 INFO 组件[BEGIN]执行开始
2016-08-22 09:54:46,348 T9000 INFO 组件[STRAC_Commbuf]执行开始
2016-08-22 09:54:46,355 T9000 INFO 组件[STRAC_XMLTree]执行开始
2016-08-22 09:54:46,378 T9000 INFO 组件[Agentx_SysInit]执行开始
2016-08-22 09:54:46,384 T9000 INFO 组件[SDATA_MStrCompare]执行开始
2016-08-22 09:54:46,410 T9000 INFO 组件[SCNTR_CallSubFlow]执行开始
2016-08-22 09:54:46,411 T9000 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 09:54:46,436 T9000 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 09:54:46,459 T9000 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 09:54:46,471 T9000 INFO 组件[BEGIN]执行开始
2016-08-22 09:54:46,477 T9000 INFO 组件[SDATA_ImpFromBuf]执行开始
2016-08-22 09:54:46,483 T9000 INFO 组件[SDATA_MSetValue]执行开始
2016-08-22 09:54:46,492 T9000 INFO 组件[END]执行开始
2016-08-22 09:54:46,494 T9000 INFO return[0]
2016-08-22 09:54:46,500 T9000 INFO ret
2016-08-22 09:54:46,506 T9000 INFO 组件[END]执行开始
2016-08-22 09:54:46,510 T9000 INFO return[0]
2016-08-22 09:54:46,513 T9000 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 09:54:46,535 T9000 INFO 报文发往送到GAPS成功
2016-08-22 09:54:46,536 T9000 INFO 
--------------提交缓冲日志 END[2016-08-22 09:54:46.537000]---------------

2016-08-22 09:54:46,543 T9000 INFO 无数据break
2016-08-22 09:54:46,548 T8312 INFO 无数据break
2016-08-22 14:47:40,249 log.py info 47 T11440 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 14:47:42,970 log.py info 47 T8944 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 14:47:43,005 log.py info 47 T8944 INFO 组件[BEGIN]执行开始
2016-08-22 14:47:43,013 log.py info 47 T8944 INFO 组件[STRAC_Commbuf]执行开始
2016-08-22 14:47:43,020 log.py info 47 T8944 INFO 组件[STRAC_XMLTree]执行开始
2016-08-22 14:47:43,040 log.py info 47 T8944 INFO 组件[Agentx_SysInit]执行开始
2016-08-22 14:47:43,049 log.py info 47 T8944 INFO 组件[SDATA_MStrCompare]执行开始
2016-08-22 14:47:43,069 log.py info 47 T8944 INFO 组件[SCNTR_CallSubFlow]执行开始
2016-08-22 14:47:43,072 log.py info 47 T8944 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:47:43,085 log.py info 47 T8944 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 14:47:43,108 log.py info 47 T8944 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:47:43,122 log.py info 47 T8944 INFO 组件[BEGIN]执行开始
2016-08-22 14:47:43,128 log.py info 47 T8944 INFO 组件[SDATA_ImpFromBuf]执行开始
2016-08-22 14:47:43,144 log.py info 47 T8944 INFO 组件[SDATA_MSetValue]执行开始
2016-08-22 14:47:43,155 log.py info 47 T8944 INFO 组件[END]执行开始
2016-08-22 14:47:43,160 log.py info 47 T8944 INFO return[0]
2016-08-22 14:47:43,161 log.py info 47 T8944 INFO 组件[SCNTR_CallSubFlow]执行结束 返回 0
2016-08-22 14:47:43,173 log.py info 47 T8944 INFO 组件[END]执行开始
2016-08-22 14:47:43,177 log.py info 47 T8944 INFO return[0]
2016-08-22 14:47:43,180 log.py info 47 T8944 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 14:47:43,204 log.py info 47 T8944 INFO 报文发往送到GAPS成功
2016-08-22 14:47:43,207 log.py info 47 T8944 INFO 
--------------提交缓冲日志 END[2016-08-22 14:47:43.208000]---------------

2016-08-22 14:47:43,286 log.py info 47 T1960 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 06:49:43 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 14:47:43,312 log.py info 47 T1960 INFO 组件[BEGIN]执行开始
2016-08-22 14:47:43,319 log.py info 47 T1960 INFO 组件[STRAC_Commbuf]执行开始
2016-08-22 14:47:43,328 log.py info 47 T1960 INFO 组件[STRAC_XMLTree]执行开始
2016-08-22 14:47:43,361 log.py info 47 T1960 INFO 组件[Agentx_SysInit]执行开始
2016-08-22 14:47:43,367 log.py info 47 T1960 INFO 组件[SDATA_MStrCompare]执行开始
2016-08-22 14:47:43,434 log.py info 47 T1960 INFO 组件[SCNTR_CallSubFlow]执行开始
2016-08-22 14:47:43,437 log.py info 47 T1960 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:47:43,477 log.py info 47 T1960 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 14:47:43,522 log.py info 47 T1960 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:47:43,540 log.py info 47 T1960 INFO 组件[BEGIN]执行开始
2016-08-22 14:47:43,551 log.py info 47 T1960 INFO 组件[SDATA_ImpFromBuf]执行开始
2016-08-22 14:47:43,566 log.py info 47 T1960 INFO 组件[SDATA_MSetValue]执行开始
2016-08-22 14:47:43,575 log.py info 47 T1960 INFO 组件[END]执行开始
2016-08-22 14:47:43,585 log.py info 47 T1960 INFO return[0]
2016-08-22 14:47:43,588 log.py info 47 T1960 INFO 组件[SCNTR_CallSubFlow]执行结束 返回 0
2016-08-22 14:47:43,596 log.py info 47 T1960 INFO 组件[END]执行开始
2016-08-22 14:47:43,609 log.py info 47 T1960 INFO return[0]
2016-08-22 14:47:43,617 log.py info 47 T1960 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 14:47:43,651 log.py info 47 T1960 INFO 报文发往送到GAPS成功
2016-08-22 14:47:43,655 log.py info 47 T1960 INFO 
--------------提交缓冲日志 END[2016-08-22 14:47:43.656000]---------------

2016-08-22 14:47:43,668 log.py info 47 T1960 INFO 无数据break
2016-08-22 14:47:43,674 log.py info 47 T8944 INFO 无数据break
2016-08-22 14:57:59,901 T1184 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 14:58:02,733 T11560 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 14:58:02,770 T11560 INFO 组件[BEGIN]执行开始
2016-08-22 14:58:02,776 T11560 INFO guocai_txj.py|184|组件[STRAC_Commbuf]执行开始
2016-08-22 14:58:02,782 T11560 INFO guocai_txj.py|187|组件[STRAC_Commbuf]执行结束
2016-08-22 14:58:02,788 T11560 INFO guocai_txj.py|196|组件[STRAC_XMLTree]执行开始
2016-08-22 14:58:02,802 T11560 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 14:58:02,803 T11560 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 14:58:02,812 T11560 INFO 组件[SDATA_MStrCompare]执行开始
2016-08-22 14:58:02,828 T11560 INFO 组件[SCNTR_CallSubFlow]执行开始
2016-08-22 14:58:02,832 T11560 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:58:02,851 T11560 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 14:58:02,878 T11560 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:58:02,891 T11560 INFO 组件[BEGIN]执行开始
2016-08-22 14:58:02,900 T11560 INFO 组件[SDATA_ImpFromBuf]执行开始
2016-08-22 14:58:02,910 T11560 INFO 组件[SDATA_MSetValue]执行开始
2016-08-22 14:58:02,940 T11560 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 14:58:02,947 T11560 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 14:58:02,953 T11560 INFO 组件[SCNTR_CallSubFlow]执行结束 返回 0
2016-08-22 14:58:02,957 T11560 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 14:58:02,963 T11560 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 14:58:02,969 T11560 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 14:58:02,990 T11560 INFO 报文发往送到GAPS成功
2016-08-22 14:58:02,993 T11560 INFO 
--------------提交缓冲日志 END[2016-08-22 14:58:02.994000]---------------

2016-08-22 14:58:03,055 T12260 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 07:00:03 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 14:58:03,076 T12260 INFO 组件[BEGIN]执行开始
2016-08-22 14:58:03,082 T12260 INFO guocai_txj.py|184|组件[STRAC_Commbuf]执行开始
2016-08-22 14:58:03,089 T12260 INFO guocai_txj.py|187|组件[STRAC_Commbuf]执行结束
2016-08-22 14:58:03,095 T12260 INFO guocai_txj.py|196|组件[STRAC_XMLTree]执行开始
2016-08-22 14:58:03,122 T12260 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 14:58:03,127 T12260 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 14:58:03,134 T12260 INFO 组件[SDATA_MStrCompare]执行开始
2016-08-22 14:58:03,170 T12260 INFO 组件[SCNTR_CallSubFlow]执行开始
2016-08-22 14:58:03,171 T12260 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:58:03,194 T12260 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 14:58:03,216 T12260 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 14:58:03,226 T12260 INFO 组件[BEGIN]执行开始
2016-08-22 14:58:03,232 T12260 INFO 组件[SDATA_ImpFromBuf]执行开始
2016-08-22 14:58:03,237 T12260 INFO 组件[SDATA_MSetValue]执行开始
2016-08-22 14:58:03,247 T12260 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 14:58:03,256 T12260 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 14:58:03,259 T12260 INFO 组件[SCNTR_CallSubFlow]执行结束 返回 0
2016-08-22 14:58:03,265 T12260 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 14:58:03,269 T12260 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 14:58:03,275 T12260 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 14:58:03,295 T12260 INFO 报文发往送到GAPS成功
2016-08-22 14:58:03,296 T12260 INFO 
--------------提交缓冲日志 END[2016-08-22 14:58:03.297000]---------------

2016-08-22 14:58:03,303 T12260 INFO 无数据break
2016-08-22 14:58:03,308 T11560 INFO 无数据break
2016-08-22 15:27:07,918 T10496 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 15:28:09,042 T8200 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 15:28:13,905 T12216 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 15:28:13,944 T12216 INFO 组件[BEGIN]执行开始
2016-08-22 15:28:13,950 T12216 INFO guocai_txj.py|184|组件[STRAC_Commbuf]执行开始
2016-08-22 15:28:13,957 T12216 INFO guocai_txj.py|187|组件[STRAC_Commbuf]执行结束
2016-08-22 15:28:13,963 T12216 INFO guocai_txj.py|196|组件[STRAC_XMLTree]执行开始
2016-08-22 15:28:13,976 T12216 INFO guocai_txj.py|198|组件[STRAC_XMLTree]执行结束
2016-08-22 15:28:13,983 T12216 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 15:28:13,986 T12216 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 15:28:13,994 T12216 INFO guocai_txj.py|209|组件[SDATA_MStrCompare]执行开始
2016-08-22 15:28:14,009 T12216 INFO guocai_txj.py|213|组件[SDATA_MStrCompare]执行结束
2016-08-22 15:28:14,019 T12216 INFO guocai_txj.py|247|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 15:28:14,032 T12216 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 15:28:14,056 T12216 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 15:28:14,065 T12216 INFO 组件[BEGIN]执行开始
2016-08-22 15:28:14,073 T12216 INFO guocai_txj.py|235|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 15:28:14,076 T12216 INFO guocai_txj.py|236|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 15:28:14,082 T12216 INFO guocai_txj.py|225|组件[SDATA_MSetValue]执行开始
2016-08-22 15:28:14,084 T12216 INFO guocai_txj.py|226|组件[SDATA_MSetValue]执行结束
2016-08-22 15:28:14,091 T12216 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 15:28:14,096 T12216 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 15:28:14,099 T12216 INFO guocai_txj.py|281|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 15:28:14,105 T12216 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 15:28:14,111 T12216 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 15:28:14,118 T12216 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 15:28:14,141 T12216 INFO 报文发往送到GAPS成功
2016-08-22 15:28:14,148 T12216 INFO 
--------------提交缓冲日志 END[2016-08-22 15:28:14.149000]---------------

2016-08-22 15:28:14,200 T6440 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 07:30:14 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 15:28:14,233 T6440 INFO 组件[BEGIN]执行开始
2016-08-22 15:28:14,240 T6440 INFO guocai_txj.py|184|组件[STRAC_Commbuf]执行开始
2016-08-22 15:28:14,247 T6440 INFO guocai_txj.py|187|组件[STRAC_Commbuf]执行结束
2016-08-22 15:28:14,256 T6440 INFO guocai_txj.py|196|组件[STRAC_XMLTree]执行开始
2016-08-22 15:28:14,286 T6440 INFO guocai_txj.py|198|组件[STRAC_XMLTree]执行结束
2016-08-22 15:28:14,296 T6440 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 15:28:14,299 T6440 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 15:28:14,309 T6440 INFO guocai_txj.py|209|组件[SDATA_MStrCompare]执行开始
2016-08-22 15:28:14,339 T6440 INFO guocai_txj.py|216|组件[SDATA_MStrCompare]执行结束
2016-08-22 15:28:14,344 T6440 INFO guocai_txj.py|247|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 15:28:14,378 T6440 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 15:28:14,404 T6440 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 15:28:14,420 T6440 INFO 组件[BEGIN]执行开始
2016-08-22 15:28:14,428 T6440 INFO guocai_txj.py|235|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 15:28:14,434 T6440 INFO guocai_txj.py|236|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 15:28:14,443 T6440 INFO guocai_txj.py|225|组件[SDATA_MSetValue]执行开始
2016-08-22 15:28:14,447 T6440 INFO guocai_txj.py|226|组件[SDATA_MSetValue]执行结束
2016-08-22 15:28:14,453 T6440 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 15:28:14,460 T6440 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 15:28:14,464 T6440 INFO guocai_txj.py|281|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 15:28:14,470 T6440 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 15:28:14,479 T6440 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 15:28:14,483 T6440 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 15:28:14,509 T6440 INFO 报文发往送到GAPS成功
2016-08-22 15:28:14,512 T6440 INFO 
--------------提交缓冲日志 END[2016-08-22 15:28:14.512000]---------------

2016-08-22 15:28:14,523 T6440 INFO 无数据break
2016-08-22 15:28:14,529 T12216 INFO 无数据break
2016-08-22 16:27:48,220 T13096 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:27:53,663 T8724 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:27:53,703 T8724 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:27:53,743 T8724 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:27:53,756 T8724 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:27:53,769 T8724 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:27:53,785 T8724 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:27:53,802 T8724 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:27:53,812 T8724 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:27:53,816 T8724 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:27:53,826 T8724 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:27:53,832 T8724 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:27:53,842 T8724 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:27:53,859 T8724 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:27:53,868 T8724 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:27:53,891 T8724 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:27:53,910 T8724 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:27:53,937 T8724 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:27:53,941 T8724 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:27:53,946 T8724 INFO guocai_txj.py|266|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 16:27:53,951 T8724 INFO guocai_txj.py|267|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 16:27:53,956 T8724 INFO guocai_txj.py|256|组件[SDATA_MSetValue]执行开始
2016-08-22 16:27:53,957 T8724 INFO guocai_txj.py|257|组件[SDATA_MSetValue]执行结束
2016-08-22 16:27:53,964 T8724 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:27:53,984 T8724 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:27:53,996 T8724 INFO guocai_txj.py|312|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 16:27:54,010 T8724 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:27:54,020 T8724 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:27:54,029 T8724 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:27:54,068 T8724 INFO 报文发往送到GAPS成功
2016-08-22 16:27:54,071 T8724 INFO 
--------------提交缓冲日志 END[2016-08-22 16:27:54.071000]---------------

2016-08-22 16:27:54,174 T12468 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:29:54 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:27:54,209 T12468 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:27:54,211 T12468 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:27:54,219 T12468 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:27:54,226 T12468 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:27:54,233 T12468 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:27:54,269 T12468 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:27:54,276 T12468 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:27:54,282 T12468 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:27:54,289 T12468 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:27:54,296 T12468 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:27:54,305 T12468 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:27:54,341 T12468 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:27:54,346 T12468 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:27:54,380 T12468 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:27:54,410 T12468 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:27:54,423 T12468 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:27:54,428 T12468 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:27:54,434 T12468 INFO guocai_txj.py|266|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 16:27:54,438 T12468 INFO guocai_txj.py|267|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 16:27:54,444 T12468 INFO guocai_txj.py|256|组件[SDATA_MSetValue]执行开始
2016-08-22 16:27:54,450 T12468 INFO guocai_txj.py|257|组件[SDATA_MSetValue]执行结束
2016-08-22 16:27:54,459 T12468 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:27:54,466 T12468 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:27:54,470 T12468 INFO guocai_txj.py|312|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 16:27:54,479 T12468 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:27:54,486 T12468 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:27:54,490 T12468 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:27:54,517 T12468 INFO 报文发往送到GAPS成功
2016-08-22 16:27:54,519 T12468 INFO 
--------------提交缓冲日志 END[2016-08-22 16:27:54.520000]---------------

2016-08-22 16:27:54,532 T12468 INFO 无数据break
2016-08-22 16:27:54,549 T8724 INFO 无数据break
2016-08-22 16:34:38,680 T9416 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:34:42,950 T12700 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:34:43,003 T12700 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:34:43,006 T12700 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:34:43,009 T12700 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:34:43,015 T12700 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:34:43,023 T12700 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:34:43,035 T12700 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:34:43,042 T12700 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:34:43,043 T12700 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:34:43,052 T12700 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:34:43,055 T12700 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:34:43,059 T12700 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:34:43,071 T12700 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 16:34:43,073 T12700 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:34:43,082 T12700 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:34:43,098 T12700 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:34:43,115 T12700 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:34:43,260 T12700 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:34:43,269 T12700 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:34:43,273 T12700 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:34:43,279 T12700 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:34:43,309 T12700 INFO 报文发往送到GAPS成功
2016-08-22 16:34:43,313 T12700 INFO 
--------------提交缓冲日志 END[2016-08-22 16:34:43.314000]---------------

2016-08-22 16:34:43,378 T9628 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:36:43 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:34:43,405 T9628 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:34:43,411 T9628 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:34:43,420 T9628 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:34:43,430 T9628 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:34:43,436 T9628 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:34:43,484 T9628 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:34:43,490 T9628 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:34:43,493 T9628 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:34:43,502 T9628 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:34:43,507 T9628 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:34:43,516 T9628 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:34:43,572 T9628 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 16:34:43,575 T9628 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:34:43,582 T9628 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:34:43,630 T9628 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:34:43,681 T9628 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:34:43,767 T9628 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:34:43,772 T9628 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:34:43,780 T9628 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:34:43,786 T9628 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:34:43,812 T9628 INFO 报文发往送到GAPS成功
2016-08-22 16:34:43,815 T9628 INFO 
--------------提交缓冲日志 END[2016-08-22 16:34:43.816000]---------------

2016-08-22 16:34:43,825 T9628 INFO 无数据break
2016-08-22 16:34:43,845 T12700 INFO 无数据break
2016-08-22 16:44:28,437 T11828 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:44:39,677 T12172 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:46:12,851 T12432 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:46:19,792 T13176 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:46:19,841 T13176 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:46:19,846 T13176 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:46:19,851 T13176 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:46:19,861 T13176 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:46:19,865 T13176 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:46:19,875 T13176 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:46:19,897 T13176 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:46:19,904 T13176 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:46:19,913 T13176 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:46:19,918 T13176 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:46:19,924 T13176 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:46:19,930 T13176 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:46:19,953 T13176 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 16:46:19,956 T13176 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:46:19,961 T13176 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:46:19,983 T13176 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:46:19,992 T13176 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:46:20,043 T13176 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:46:20,055 T13176 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 46, in __init__
    self.pyfunc = getattr( mod , ret[ 'FUNCNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x027938C8>
                 obj = <Element node at 279cbe8>
                 ret = {'FUNCNAME': 'SPKG_IXMLtoOXML', 'MODNAME': 'guocai_txj', '_1': 'pkg_gbism_[/pub/qdjydm]_resp', '_2': '/commbuf'}
                 mod = <module 'guocai_txj' from 'H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.pyc'>
AttributeError: 'module' object has no attribute 'SPKG_IXMLtoOXML'

2016-08-22 16:46:20,138 T13176 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
46, in __init__\n    self.pyfunc = getattr( mod , ret[ \'FUNCNAME\' ]
)\n                self = <flow.flow_utils.FlowNode instance at
0x027938C8>\n                 obj = <Element node at 279cbe8>\n
ret = {\'FUNCNAME\': \'SPKG_IXMLtoOXML\', \'MODNAME\': \'guocai_txj\',
\'_1\': \'pkg_gbism_[/pub/qdjydm]_resp\', \'_2\': \'/commbuf\'}\n
mod = <module \'guocai_txj\' from \'H:\\share\\work\\\xd2\xf8\xc1\xaa\
xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\
xfa\\tfb_txj\\bin\\guocai_txj.pyc\'>\nAttributeError: \'module\'
object has no attribute \'SPKG_IXMLtoOXML\'\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:46:20,180 T13176 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:46:20,184 T13176 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:46:20,190 T13176 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:46:20,194 T13176 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:46:20,213 T13176 INFO 报文发往送到GAPS成功
2016-08-22 16:46:20,217 T13176 INFO 
--------------提交缓冲日志 END[2016-08-22 16:46:20.218000]---------------

2016-08-22 16:46:20,273 T2088 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:48:20 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:46:20,299 T2088 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:46:20,302 T2088 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:46:20,309 T2088 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:46:20,315 T2088 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:46:20,319 T2088 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:46:20,329 T2088 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
46, in __init__\n    self.pyfunc = getattr( mod , ret[ \'FUNCNAME\' ]
)\n                self = <flow.flow_utils.FlowNode instance at
0x027938C8>\n                 obj = <Element node at 279cbe8>\n
ret = {\'FUNCNAME\': \'SPKG_IXMLtoOXML\', \'MODNAME\': \'guocai_txj\',
\'_1\': \'pkg_gbism_[/pub/qdjydm]_resp\', \'_2\': \'/commbuf\'}\n
mod = <module \'guocai_txj\' from \'H:\\share\\work\\\xd2\xf8\xc1\xaa\
xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\
xfa\\tfb_txj\\bin\\guocai_txj.pyc\'>\nAttributeError: \'module\'
object has no attribute \'SPKG_IXMLtoOXML\'\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:48:20
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:46:20,405 T2088 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:46:20,413 T2088 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:46:20,417 T2088 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:46:20,423 T2088 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:46:20,426 T2088 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:46:20,431 T2088 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:46:20,476 T2088 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 16:46:20,480 T2088 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:46:20,486 T2088 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:46:20,529 T2088 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:46:20,535 T2088 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
46, in __init__\n    self.pyfunc = getattr( mod , ret[ \'FUNCNAME\' ]
)\n                self = <flow.flow_utils.FlowNode instance at
0x027938C8>\n                 obj = <Element node at 279cbe8>\n
ret = {\'FUNCNAME\': \'SPKG_IXMLtoOXML\', \'MODNAME\': \'guocai_txj\',
\'_1\': \'pkg_gbism_[/pub/qdjydm]_resp\', \'_2\': \'/commbuf\'}\n
mod = <module \'guocai_txj\' from \'H:\\share\\work\\\xd2\xf8\xc1\xaa\
xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\
xfa\\tfb_txj\\bin\\guocai_txj.pyc\'>\nAttributeError: \'module\'
object has no attribute \'SPKG_IXMLtoOXML\'\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:48:20
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:46:20,608 T2088 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:46:20,618 T2088 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 46, in __init__
    self.pyfunc = getattr( mod , ret[ 'FUNCNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x02795800>
                 obj = <Element node at 27c2dc8>
                 ret = {'FUNCNAME': 'SPKG_IXMLtoOXML', 'MODNAME': 'guocai_txj', '_1': 'pkg_gbism_[/pub/qdjydm]_resp', '_2': '/commbuf'}
                 mod = <module 'guocai_txj' from 'H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.pyc'>
AttributeError: 'module' object has no attribute 'SPKG_IXMLtoOXML'

2016-08-22 16:46:20,701 T2088 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
46, in __init__\n    self.pyfunc = getattr( mod , ret[ \'FUNCNAME\' ]
)\n                self = <flow.flow_utils.FlowNode instance at
0x02795800>\n                 obj = <Element node at 27c2dc8>\n
ret = {\'FUNCNAME\': \'SPKG_IXMLtoOXML\', \'MODNAME\': \'guocai_txj\',
\'_1\': \'pkg_gbism_[/pub/qdjydm]_resp\', \'_2\': \'/commbuf\'}\n
mod = <module \'guocai_txj\' from \'H:\\share\\work\\\xd2\xf8\xc1\xaa\
xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\
xfa\\tfb_txj\\bin\\guocai_txj.pyc\'>\nAttributeError: \'module\'
object has no attribute \'SPKG_IXMLtoOXML\'\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:48:20
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:46:20,739 T2088 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:46:20,743 T2088 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:46:20,749 T2088 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:46:20,753 T2088 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:46:20,786 T2088 INFO 报文发往送到GAPS成功
2016-08-22 16:46:20,792 T2088 INFO 
--------------提交缓冲日志 END[2016-08-22 16:46:20.792000]---------------

2016-08-22 16:46:20,802 T2088 INFO 无数据break
2016-08-22 16:46:20,819 T13176 INFO 无数据break
2016-08-22 16:47:39,724 T13080 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:47:42,540 T13020 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:47:42,585 T13020 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:47:42,591 T13020 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:47:42,596 T13020 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:47:42,605 T13020 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:47:42,609 T13020 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:47:42,618 T13020 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:47:42,634 T13020 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:47:42,638 T13020 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:47:42,641 T13020 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:47:42,645 T13020 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:47:42,650 T13020 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:47:42,654 T13020 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:47:42,667 T13020 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 16:47:42,671 T13020 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:47:42,680 T13020 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:47:42,693 T13020 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:47:42,704 T13020 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:47:42,756 T13020 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:47:42,782 T13020 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 45, in __init__
    mod = __import__( ret[ 'MODNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x02858260>
                 obj = <Element node at 286cdc8>
                 ret = {'FUNCNAME': 'PY_GetCipher', 'MODNAME': 'sys_guocai.py'}
ImportError: No module named sys_guocai.py

2016-08-22 16:47:42,882 T13020 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02858260>\n
obj = <Element node at 286cdc8>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai.py\'}\nImportError: No
module named sys_guocai.py\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:47:42,927 T13020 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:47:42,931 T13020 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:47:42,937 T13020 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:47:42,946 T13020 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:47:42,969 T13020 INFO 报文发往送到GAPS成功
2016-08-22 16:47:42,970 T13020 INFO 
--------------提交缓冲日志 END[2016-08-22 16:47:42.971000]---------------

2016-08-22 16:47:43,043 T11308 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:49:43 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:47:43,075 T11308 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:47:43,079 T11308 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:47:43,088 T11308 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:47:43,094 T11308 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:47:43,102 T11308 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:47:43,109 T11308 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02858260>\n
obj = <Element node at 286cdc8>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai.py\'}\nImportError: No
module named sys_guocai.py\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:49:43
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:47:43,207 T11308 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:47:43,217 T11308 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:47:43,223 T11308 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:47:43,230 T11308 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:47:43,234 T11308 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:47:43,247 T11308 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:47:43,305 T11308 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 16:47:43,309 T11308 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:47:43,315 T11308 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:47:43,378 T11308 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:47:43,385 T11308 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02858260>\n
obj = <Element node at 286cdc8>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai.py\'}\nImportError: No
module named sys_guocai.py\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:49:43
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:47:43,482 T11308 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:47:43,500 T11308 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 45, in __init__
    mod = __import__( ret[ 'MODNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x028582D8>
                 obj = <Element node at 286c3c8>
                 ret = {'FUNCNAME': 'PY_GetCipher', 'MODNAME': 'sys_guocai.py'}
ImportError: No module named sys_guocai.py

2016-08-22 16:47:43,605 T11308 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x028582D8>\n
obj = <Element node at 286c3c8>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai.py\'}\nImportError: No
module named sys_guocai.py\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:49:43
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:47:43,658 T11308 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:47:43,664 T11308 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:47:43,670 T11308 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:47:43,677 T11308 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:47:43,706 T11308 INFO 报文发往送到GAPS成功
2016-08-22 16:47:43,707 T11308 INFO 
--------------提交缓冲日志 END[2016-08-22 16:47:43.708000]---------------

2016-08-22 16:47:43,719 T11308 INFO 无数据break
2016-08-22 16:47:43,740 T13020 INFO 无数据break
2016-08-22 16:49:25,851 T11656 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:49:28,908 T11284 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:49:28,940 T11284 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:49:28,943 T11284 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:49:28,951 T11284 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:49:28,957 T11284 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:49:28,961 T11284 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:49:28,977 T11284 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:49:28,994 T11284 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:49:29,000 T11284 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:49:29,003 T11284 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:49:29,009 T11284 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:49:29,012 T11284 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:49:29,016 T11284 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:49:29,023 T11284 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 16:49:29,029 T11284 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:49:29,033 T11284 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:49:29,049 T11284 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:49:29,055 T11284 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:49:29,099 T11284 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:49:29,112 T11284 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 45, in __init__
    mod = __import__( ret[ 'MODNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x028617D8>
                 obj = <Element node at 285e3a0>
                 ret = {'FUNCNAME': 'PY_GetCipher', 'MODNAME': '.py'}
ValueError: Empty module name

2016-08-22 16:49:29,220 T11284 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x028617D8>\n
obj = <Element node at 285e3a0>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'.py\'}\nValueError: Empty module
name\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:49:29,259 T11284 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:49:29,266 T11284 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:49:29,270 T11284 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:49:29,276 T11284 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:49:29,309 T11284 INFO 报文发往送到GAPS成功
2016-08-22 16:49:29,312 T11284 INFO 
--------------提交缓冲日志 END[2016-08-22 16:49:29.313000]---------------

2016-08-22 16:49:29,375 T3984 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:51:29 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:49:29,411 T3984 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:49:29,417 T3984 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:49:29,426 T3984 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:49:29,436 T3984 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:49:29,441 T3984 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:49:29,453 T3984 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x028617D8>\n
obj = <Element node at 285e3a0>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'.py\'}\nValueError: Empty module
name\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:51:29
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:49:29,572 T3984 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:49:29,581 T3984 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:49:29,588 T3984 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:49:29,598 T3984 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:49:29,604 T3984 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:49:29,611 T3984 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:49:29,678 T3984 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 16:49:29,683 T3984 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:49:29,693 T3984 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:49:29,763 T3984 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:49:29,773 T3984 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x028617D8>\n
obj = <Element node at 285e3a0>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'.py\'}\nValueError: Empty module
name\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:51:29
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:49:29,875 T3984 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:49:29,897 T3984 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 45, in __init__
    mod = __import__( ret[ 'MODNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x02861A30>
                 obj = <Element node at 2867328>
                 ret = {'FUNCNAME': 'PY_GetCipher', 'MODNAME': '.py'}
ValueError: Empty module name

2016-08-22 16:49:30,040 T3984 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02861A30>\n
obj = <Element node at 2867328>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'.py\'}\nValueError: Empty module
name\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:51:29
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:49:30,092 T3984 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:49:30,098 T3984 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:49:30,105 T3984 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:49:30,111 T3984 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:49:30,135 T3984 INFO 报文发往送到GAPS成功
2016-08-22 16:49:30,138 T3984 INFO 
--------------提交缓冲日志 END[2016-08-22 16:49:30.138000]---------------

2016-08-22 16:49:30,147 T3984 INFO 无数据break
2016-08-22 16:49:30,161 T11284 INFO 无数据break
2016-08-22 16:54:17,306 T4560 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:54:22,588 T12256 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:54:22,621 T12256 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:54:22,625 T12256 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:54:22,628 T12256 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:54:22,638 T12256 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:54:22,644 T12256 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:54:22,648 T12256 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:54:22,661 T12256 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:54:22,668 T12256 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:54:22,674 T12256 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:54:22,683 T12256 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:54:22,686 T12256 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:54:22,690 T12256 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:54:22,701 T12256 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 16:54:22,703 T12256 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:54:22,719 T12256 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:54:22,733 T12256 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:54:22,743 T12256 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:54:22,782 T12256 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:54:22,799 T12256 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 45, in __init__
    mod = __import__( ret[ 'MODNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x02626800>
                 obj = <Element node at 26233a0>
                 ret = {'FUNCNAME': 'PY_GetCipher', 'MODNAME': 'sys_guocai'}
ImportError: No module named sys_guocai

2016-08-22 16:54:22,900 T12256 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02626800>\n
obj = <Element node at 26233a0>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai\'}\nImportError: No module
named sys_guocai\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:54:22,951 T12256 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:54:22,957 T12256 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:54:22,964 T12256 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:54:22,970 T12256 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:54:22,994 T12256 INFO 报文发往送到GAPS成功
2016-08-22 16:54:22,999 T12256 INFO 
--------------提交缓冲日志 END[2016-08-22 16:54:22.998000]---------------

2016-08-22 16:54:23,061 T7288 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:56:23 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:54:23,085 T7288 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:54:23,089 T7288 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:54:23,095 T7288 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:54:23,105 T7288 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:54:23,111 T7288 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:54:23,119 T7288 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02626800>\n
obj = <Element node at 26233a0>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai\'}\nImportError: No module
named sys_guocai\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:56:23
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:54:23,206 T7288 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:54:23,217 T7288 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:54:23,223 T7288 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:54:23,230 T7288 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:54:23,234 T7288 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:54:23,242 T7288 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:54:23,296 T7288 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 16:54:23,299 T7288 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:54:23,308 T7288 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:54:23,357 T7288 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:54:23,362 T7288 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02626800>\n
obj = <Element node at 26233a0>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai\'}\nImportError: No module
named sys_guocai\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:56:23
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:54:23,450 T7288 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:54:23,469 T7288 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 311, in SCNTR_CallSubFlow
    ret = flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 93, in goflow
    curr = build_flow( flowfile )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 77, in build_flow
    fobj = FlowNode( n )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\flow\flow_utils.py", line 45, in __init__
    mod = __import__( ret[ 'MODNAME' ] )
                self = <flow.flow_utils.FlowNode instance at 0x02626A58>
                 obj = <Element node at 262c148>
                 ret = {'FUNCNAME': 'PY_GetCipher', 'MODNAME': 'sys_guocai'}
ImportError: No module named sys_guocai

2016-08-22 16:54:23,595 T7288 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 311, in SCNTR_CallSubFlow\n    ret =
flow.flow_utils.goflow("../flow/%s.flow"%subflow,jyzd)\n  File "H:\\sh
are\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\
xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 93, in goflow\n    curr = build_flow( flowfile )\n  File "H:\\sha
re\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\x
b1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py",
line 77, in build_flow\n    fobj = FlowNode( n )\n  File "H:\\share\\w
ork\\\xd2\xf8\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa
6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_txj\\bin\\flow\\flow_utils.py", line
45, in __init__\n    mod = __import__( ret[ \'MODNAME\' ] )\n
self = <flow.flow_utils.FlowNode instance at 0x02626A58>\n
obj = <Element node at 262c148>\n                 ret = {\'FUNCNAME\':
\'PY_GetCipher\', \'MODNAME\': \'sys_guocai\'}\nImportError: No module
named sys_guocai\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:56:23
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:54:23,650 T7288 INFO guocai_txj.py|20|组件[pub_error]执行开始
2016-08-22 16:54:23,655 T7288 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 16:54:23,664 T7288 INFO guocai_txj.py|23|组件[pub_error]执行结束
2016-08-22 16:54:23,671 T7288 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:54:23,711 T7288 INFO 报文发往送到GAPS成功
2016-08-22 16:54:23,717 T7288 INFO 
--------------提交缓冲日志 END[2016-08-22 16:54:23.718000]---------------

2016-08-22 16:54:23,742 T7288 INFO 无数据break
2016-08-22 16:54:23,753 T12256 INFO 无数据break
2016-08-22 16:55:47,005 T10424 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 16:55:49,207 T10624 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 16:55:49,243 T10624 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:55:49,247 T10624 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:55:49,253 T10624 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:55:49,260 T10624 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:55:49,265 T10624 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:55:49,269 T10624 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:55:49,283 T10624 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:55:49,292 T10624 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:55:49,296 T10624 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:55:49,301 T10624 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:55:49,303 T10624 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:55:49,312 T10624 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:55:49,328 T10624 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 16:55:49,332 T10624 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:55:49,342 T10624 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:55:49,358 T10624 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:55:49,365 T10624 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:55:49,404 T10624 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:55:49,427 T10624 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:55:49,434 T10624 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:55:49,441 T10624 INFO guocai_txj.py|266|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 16:55:49,448 T10624 INFO guocai_txj.py|267|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 16:55:49,457 T10624 INFO guocai_txj.py|256|组件[SDATA_MSetValue]执行开始
2016-08-22 16:55:49,461 T10624 INFO guocai_txj.py|257|组件[SDATA_MSetValue]执行结束
2016-08-22 16:55:49,470 T10624 INFO guocai_txj.py|182|组件[PY_GetCipher]执行开始
2016-08-22 16:55:49,473 T10624 INFO guocai_txj.py|183|组件[PY_GetCipher]执行结束
2016-08-22 16:55:49,480 T10624 INFO guocai_txj.py|173|组件[SAPEX_RESCHECK]执行开始
2016-08-22 16:55:49,484 T10624 INFO guocai_txj.py|174|组件[SAPEX_RESCHECK]执行结束
2016-08-22 16:55:49,490 T10624 INFO guocai_txj.py|191|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 16:55:49,493 T10624 INFO guocai_txj.py|192|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 16:55:49,500 T10624 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:55:49,506 T10624 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:55:49,512 T10624 INFO guocai_txj.py|312|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 16:55:49,516 T10624 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:55:49,522 T10624 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:55:49,532 T10624 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:55:49,562 T10624 INFO 报文发往送到GAPS成功
2016-08-22 16:55:49,565 T10624 INFO 
--------------提交缓冲日志 END[2016-08-22 16:55:49.565000]---------------

2016-08-22 16:55:49,628 T12296 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 08:57:49 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 16:55:49,673 T12296 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:55:49,676 T12296 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:55:49,684 T12296 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 16:55:49,691 T12296 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 16:55:49,696 T12296 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 16:55:49,703 T12296 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:57:49
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:55:49,762 T12296 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 16:55:49,769 T12296 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 16:55:49,776 T12296 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 16:55:49,783 T12296 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 16:55:49,789 T12296 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 16:55:49,796 T12296 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 16:55:49,828 T12296 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 16:55:49,834 T12296 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 16:55:49,842 T12296 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 16:55:49,891 T12296 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 16:55:49,900 T12296 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 08:57:49
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 16:55:49,979 T12296 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 16:55:50,025 T12296 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 16:55:50,029 T12296 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 16:55:50,046 T12296 INFO guocai_txj.py|266|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 16:55:50,062 T12296 INFO guocai_txj.py|267|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 16:55:50,085 T12296 INFO guocai_txj.py|256|组件[SDATA_MSetValue]执行开始
2016-08-22 16:55:50,095 T12296 INFO guocai_txj.py|257|组件[SDATA_MSetValue]执行结束
2016-08-22 16:55:50,105 T12296 INFO guocai_txj.py|182|组件[PY_GetCipher]执行开始
2016-08-22 16:55:50,109 T12296 INFO guocai_txj.py|183|组件[PY_GetCipher]执行结束
2016-08-22 16:55:50,125 T12296 INFO guocai_txj.py|173|组件[SAPEX_RESCHECK]执行开始
2016-08-22 16:55:50,141 T12296 INFO guocai_txj.py|174|组件[SAPEX_RESCHECK]执行结束
2016-08-22 16:55:50,154 T12296 INFO guocai_txj.py|191|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 16:55:50,160 T12296 INFO guocai_txj.py|192|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 16:55:50,174 T12296 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:55:50,184 T12296 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:55:50,194 T12296 INFO guocai_txj.py|312|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 16:55:50,217 T12296 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 16:55:50,240 T12296 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 16:55:50,252 T12296 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 16:55:50,299 T12296 INFO 报文发往送到GAPS成功
2016-08-22 16:55:50,326 T10624 INFO 无数据break
2016-08-22 16:55:50,348 T12296 INFO 
--------------提交缓冲日志 END[2016-08-22 16:55:50.348000]---------------

2016-08-22 16:55:50,359 T12296 INFO line[187] Dispatch Socket read error of 119.147.214.132:80: [Errno 10058] 
2016-08-22 17:03:26,502 T1304 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 17:03:31,625 T13248 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:03:31,651 T13248 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 17:03:31,653 T13248 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 17:03:31,655 T13248 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 17:03:31,661 T13248 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 17:03:31,667 T13248 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 17:03:31,674 T13248 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:03:31,688 T13248 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 17:03:31,696 T13248 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 17:03:31,700 T13248 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 17:03:31,703 T13248 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:03:31,706 T13248 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:03:31,710 T13248 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:03:31,719 T13248 INFO guocai_txj.py|242|执行['local2remote'=='local2remote']
2016-08-22 17:03:31,721 T13248 INFO guocai_txj.py|244|组件[SDATA_MStrCompare]执行结束
2016-08-22 17:03:31,729 T13248 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:03:31,740 T13248 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:03:31,746 T13248 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:03:31,773 T13248 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:03:31,793 T13248 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 17:03:31,799 T13248 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 17:03:31,808 T13248 INFO guocai_txj.py|266|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:03:31,812 T13248 INFO guocai_txj.py|267|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 17:03:31,819 T13248 INFO guocai_txj.py|256|组件[SDATA_MSetValue]执行开始
2016-08-22 17:03:31,822 T13248 INFO guocai_txj.py|257|组件[SDATA_MSetValue]执行结束
2016-08-22 17:03:31,828 T13248 INFO guocai_txj.py|182|组件[PY_GetCipher]执行开始
2016-08-22 17:03:31,832 T13248 INFO guocai_txj.py|183|组件[PY_GetCipher]执行结束
2016-08-22 17:03:31,839 T13248 INFO guocai_txj.py|173|组件[SAPEX_RESCHECK]执行开始
2016-08-22 17:03:31,842 T13248 INFO guocai_txj.py|174|组件[SAPEX_RESCHECK]执行结束
2016-08-22 17:03:31,848 T13248 INFO guocai_txj.py|191|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 17:03:31,852 T13248 INFO guocai_txj.py|192|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 17:03:31,861 T13248 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 17:03:31,869 T13248 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 17:03:31,872 T13248 INFO guocai_txj.py|312|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:03:31,878 T13248 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 17:03:31,888 T13248 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 17:03:31,894 T13248 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:03:31,918 T13248 INFO 报文发往送到GAPS成功
2016-08-22 17:03:31,921 T13248 INFO 
--------------提交缓冲日志 END[2016-08-22 17:03:31.921000]---------------

2016-08-22 17:03:31,984 T7196 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:05:32 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:03:32,017 T7196 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 17:03:32,023 T7196 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 17:03:32,029 T7196 INFO guocai_txj.py|215|组件[STRAC_Commbuf]执行开始
2016-08-22 17:03:32,035 T7196 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行结束
2016-08-22 17:03:32,040 T7196 INFO guocai_txj.py|227|组件[STRAC_XMLTree]执行开始
2016-08-22 17:03:32,046 T7196 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:05:32
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:03:32,084 T7196 INFO guocai_txj.py|229|组件[STRAC_XMLTree]执行结束
2016-08-22 17:03:32,089 T7196 INFO guocai_txj.py|151|组件[Agentx_SysInit]执行开始
2016-08-22 17:03:32,094 T7196 INFO guocai_txj.py|152|组件[Agentx_SysInit]执行结束
2016-08-22 17:03:32,099 T7196 INFO guocai_txj.py|163|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:03:32,105 T7196 INFO guocai_txj.py|164|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:03:32,114 T7196 INFO guocai_txj.py|240|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:03:32,140 T7196 INFO guocai_txj.py|242|执行['remote2local'=='local2remote']
2016-08-22 17:03:32,142 T7196 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束
2016-08-22 17:03:32,148 T7196 INFO guocai_txj.py|278|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:03:32,174 T7196 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:03:32,181 T7196 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:05:32
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:03:32,227 T7196 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:03:32,243 T7196 INFO guocai_txj.py|52|组件[BEGIN]执行开始
2016-08-22 17:03:32,246 T7196 INFO guocai_txj.py|53|组件[BEGIN]执行结束
2016-08-22 17:03:32,252 T7196 INFO guocai_txj.py|266|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:03:32,255 T7196 INFO guocai_txj.py|267|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 17:03:32,260 T7196 INFO guocai_txj.py|256|组件[SDATA_MSetValue]执行开始
2016-08-22 17:03:32,265 T7196 INFO guocai_txj.py|257|组件[SDATA_MSetValue]执行结束
2016-08-22 17:03:32,270 T7196 INFO guocai_txj.py|182|组件[PY_GetCipher]执行开始
2016-08-22 17:03:32,273 T7196 INFO guocai_txj.py|183|组件[PY_GetCipher]执行结束
2016-08-22 17:03:32,280 T7196 INFO guocai_txj.py|173|组件[SAPEX_RESCHECK]执行开始
2016-08-22 17:03:32,285 T7196 INFO guocai_txj.py|174|组件[SAPEX_RESCHECK]执行结束
2016-08-22 17:03:32,290 T7196 INFO guocai_txj.py|191|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 17:03:32,293 T7196 INFO guocai_txj.py|192|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 17:03:32,299 T7196 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 17:03:32,305 T7196 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 17:03:32,309 T7196 INFO guocai_txj.py|312|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:03:32,313 T7196 INFO guocai_txj.py|62|组件[END]执行开始
2016-08-22 17:03:32,319 T7196 INFO guocai_txj.py|64|组件[END]执行结束
2016-08-22 17:03:32,332 T7196 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:03:32,364 T7196 INFO 报文发往送到GAPS成功
2016-08-22 17:03:32,367 T7196 INFO 
--------------提交缓冲日志 END[2016-08-22 17:03:32.367000]---------------

2016-08-22 17:03:32,372 T7196 INFO 无数据break
2016-08-22 17:03:32,391 T13248 INFO 无数据break
2016-08-22 17:26:20,177 T7948 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 17:26:22,865 T12776 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:26:42,710 T12856 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 17:26:47,447 T11960 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:26:47,486 T11960 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:47,500 T11960 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:47,503 T11960 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行开始
2016-08-22 17:26:47,509 T11960 INFO guocai_txj.py|221|组件[STRAC_Commbuf]执行结束
2016-08-22 17:26:47,516 T11960 INFO guocai_txj.py|230|组件[STRAC_XMLTree]执行开始
2016-08-22 17:26:47,519 T11960 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:47,533 T11960 INFO guocai_txj.py|232|组件[STRAC_XMLTree]执行结束
2016-08-22 17:26:47,540 T11960 INFO guocai_txj.py|154|组件[Agentx_SysInit]执行开始
2016-08-22 17:26:47,543 T11960 INFO guocai_txj.py|155|组件[Agentx_SysInit]执行结束
2016-08-22 17:26:47,549 T11960 INFO guocai_txj.py|166|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:26:47,552 T11960 INFO guocai_txj.py|167|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:26:47,556 T11960 INFO guocai_txj.py|243|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:26:47,568 T11960 INFO guocai_txj.py|245|执行['local2remote'=='local2remote']
2016-08-22 17:26:47,569 T11960 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 17:26:47,582 T11960 INFO guocai_txj.py|286|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:26:47,598 T11960 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:26:47,605 T11960 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:47,640 T11960 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:26:47,651 T11960 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:47,654 T11960 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:47,661 T11960 INFO guocai_txj.py|269|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:26:47,665 T11960 INFO guocai_txj.py|270|将commbuf内容转换到字典中
2016-08-22 17:26:47,671 T11960 INFO guocai_txj.py|274|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:26:47,677 T11960 INFO guocai_txj.py|275|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 17:26:47,687 T11960 INFO guocai_txj.py|259|组件[SDATA_MSetValue]执行开始
2016-08-22 17:26:47,694 T11960 INFO guocai_txj.py|260|组件[SDATA_MSetValue]执行结束
2016-08-22 17:26:47,704 T11960 INFO guocai_txj.py|185|组件[PY_GetCipher]执行开始
2016-08-22 17:26:47,710 T11960 INFO guocai_txj.py|186|组件[PY_GetCipher]执行结束
2016-08-22 17:26:47,720 T11960 INFO guocai_txj.py|176|组件[SAPEX_RESCHECK]执行开始
2016-08-22 17:26:47,723 T11960 INFO guocai_txj.py|177|组件[SAPEX_RESCHECK]执行结束
2016-08-22 17:26:47,727 T11960 INFO guocai_txj.py|194|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 17:26:47,730 T11960 INFO guocai_txj.py|195|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 17:26:47,736 T11960 INFO guocai_txj.py|65|组件[END]执行开始
2016-08-22 17:26:47,742 T11960 INFO guocai_txj.py|67|组件[END]执行结束
2016-08-22 17:26:47,746 T11960 INFO guocai_txj.py|320|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:26:47,750 T11960 INFO guocai_txj.py|65|组件[END]执行开始
2016-08-22 17:26:47,755 T11960 INFO guocai_txj.py|67|组件[END]执行结束
2016-08-22 17:26:47,759 T11960 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:26:47,780 T11960 INFO 报文发往送到GAPS成功
2016-08-22 17:26:47,782 T11960 INFO 
--------------提交缓冲日志 END[2016-08-22 17:26:47.783000]---------------

2016-08-22 17:26:47,852 T12144 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:28:47 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:26:47,881 T12144 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:47,884 T12144 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:47,890 T12144 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行开始
2016-08-22 17:26:47,897 T12144 INFO guocai_txj.py|221|组件[STRAC_Commbuf]执行结束
2016-08-22 17:26:47,903 T12144 INFO guocai_txj.py|230|组件[STRAC_XMLTree]执行开始
2016-08-22 17:26:47,907 T12144 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:28:47
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:47,954 T12144 INFO guocai_txj.py|232|组件[STRAC_XMLTree]执行结束
2016-08-22 17:26:47,960 T12144 INFO guocai_txj.py|154|组件[Agentx_SysInit]执行开始
2016-08-22 17:26:47,963 T12144 INFO guocai_txj.py|155|组件[Agentx_SysInit]执行结束
2016-08-22 17:26:47,969 T12144 INFO guocai_txj.py|166|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:26:47,973 T12144 INFO guocai_txj.py|167|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:26:47,980 T12144 INFO guocai_txj.py|243|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:26:48,003 T12144 INFO guocai_txj.py|245|执行['remote2local'=='local2remote']
2016-08-22 17:26:48,006 T12144 INFO guocai_txj.py|250|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 17:26:48,013 T12144 INFO guocai_txj.py|286|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:26:48,052 T12144 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:26:48,061 T12144 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:28:47
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:48,115 T12144 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:26:48,135 T12144 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:48,141 T12144 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:48,148 T12144 INFO guocai_txj.py|269|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:26:48,226 T12144 INFO guocai_txj.py|270|将commbuf内容转换到字典中
2016-08-22 17:26:48,234 T12144 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 272, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 24, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:26:48,308 T12144 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 272, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 24, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:28:47
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:48,336 T12144 INFO guocai_txj.py|23|组件[pub_error]执行开始
2016-08-22 17:26:48,344 T12144 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:26:48,351 T12144 INFO guocai_txj.py|26|组件[pub_error]执行结束
2016-08-22 17:26:48,355 T12144 INFO guocai_txj.py|320|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:26:48,362 T12144 INFO guocai_txj.py|65|组件[END]执行开始
2016-08-22 17:26:48,368 T12144 INFO guocai_txj.py|67|组件[END]执行结束
2016-08-22 17:26:48,372 T12144 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:26:48,394 T12144 INFO 报文发往送到GAPS成功
2016-08-22 17:26:48,397 T12144 INFO 
--------------提交缓冲日志 END[2016-08-22 17:26:48.397000]---------------

2016-08-22 17:26:48,404 T12144 INFO 无数据break
2016-08-22 17:26:48,420 T11960 INFO 无数据break
2016-08-22 17:26:52,970 T12728 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:26:52,997 T12728 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:53,003 T12728 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:53,007 T12728 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行开始
2016-08-22 17:26:53,013 T12728 INFO guocai_txj.py|221|组件[STRAC_Commbuf]执行结束
2016-08-22 17:26:53,020 T12728 INFO guocai_txj.py|230|组件[STRAC_XMLTree]执行开始
2016-08-22 17:26:53,028 T12728 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 272, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 24, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:53,105 T12728 INFO guocai_txj.py|232|组件[STRAC_XMLTree]执行结束
2016-08-22 17:26:53,114 T12728 INFO guocai_txj.py|154|组件[Agentx_SysInit]执行开始
2016-08-22 17:26:53,117 T12728 INFO guocai_txj.py|155|组件[Agentx_SysInit]执行结束
2016-08-22 17:26:53,122 T12728 INFO guocai_txj.py|166|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:26:53,128 T12728 INFO guocai_txj.py|167|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:26:53,132 T12728 INFO guocai_txj.py|243|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:26:53,181 T12728 INFO guocai_txj.py|245|执行['local2remote'=='local2remote']
2016-08-22 17:26:53,184 T12728 INFO guocai_txj.py|247|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 17:26:53,191 T12728 INFO guocai_txj.py|286|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:26:53,232 T12728 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:26:53,240 T12728 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 272, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 24, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:53,326 T12728 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:26:53,345 T12728 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:53,349 T12728 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:53,355 T12728 INFO guocai_txj.py|269|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:26:53,361 T12728 INFO guocai_txj.py|270|将commbuf内容转换到字典中
2016-08-22 17:26:53,368 T12728 INFO guocai_txj.py|274|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:26:53,380 T12728 INFO guocai_txj.py|275|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 17:26:53,391 T12728 INFO guocai_txj.py|259|组件[SDATA_MSetValue]执行开始
2016-08-22 17:26:53,397 T12728 INFO guocai_txj.py|260|组件[SDATA_MSetValue]执行结束
2016-08-22 17:26:53,404 T12728 INFO guocai_txj.py|185|组件[PY_GetCipher]执行开始
2016-08-22 17:26:53,410 T12728 INFO guocai_txj.py|186|组件[PY_GetCipher]执行结束
2016-08-22 17:26:53,414 T12728 INFO guocai_txj.py|176|组件[SAPEX_RESCHECK]执行开始
2016-08-22 17:26:53,417 T12728 INFO guocai_txj.py|177|组件[SAPEX_RESCHECK]执行结束
2016-08-22 17:26:53,424 T12728 INFO guocai_txj.py|194|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 17:26:53,428 T12728 INFO guocai_txj.py|195|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 17:26:53,434 T12728 INFO guocai_txj.py|65|组件[END]执行开始
2016-08-22 17:26:53,441 T12728 INFO guocai_txj.py|67|组件[END]执行结束
2016-08-22 17:26:53,447 T12728 INFO guocai_txj.py|320|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:26:53,453 T12728 INFO guocai_txj.py|65|组件[END]执行开始
2016-08-22 17:26:53,461 T12728 INFO guocai_txj.py|67|组件[END]执行结束
2016-08-22 17:26:53,466 T12728 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:26:53,500 T12728 INFO 报文发往送到GAPS成功
2016-08-22 17:26:53,505 T12728 INFO 
--------------提交缓冲日志 END[2016-08-22 17:26:53.505000]---------------

2016-08-22 17:26:53,562 T12924 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:28:53 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:26:53,598 T12924 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:53,604 T12924 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:53,611 T12924 INFO guocai_txj.py|218|组件[STRAC_Commbuf]执行开始
2016-08-22 17:26:53,621 T12924 INFO guocai_txj.py|221|组件[STRAC_Commbuf]执行结束
2016-08-22 17:26:53,631 T12924 INFO guocai_txj.py|230|组件[STRAC_XMLTree]执行开始
2016-08-22 17:26:53,641 T12924 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 272, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 24, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:28:53
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:53,740 T12924 INFO guocai_txj.py|232|组件[STRAC_XMLTree]执行结束
2016-08-22 17:26:53,746 T12924 INFO guocai_txj.py|154|组件[Agentx_SysInit]执行开始
2016-08-22 17:26:53,753 T12924 INFO guocai_txj.py|155|组件[Agentx_SysInit]执行结束
2016-08-22 17:26:53,763 T12924 INFO guocai_txj.py|166|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:26:53,769 T12924 INFO guocai_txj.py|167|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:26:53,779 T12924 INFO guocai_txj.py|243|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:26:53,846 T12924 INFO guocai_txj.py|245|执行['remote2local'=='local2remote']
2016-08-22 17:26:53,851 T12924 INFO guocai_txj.py|250|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 17:26:53,859 T12924 INFO guocai_txj.py|286|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:26:53,947 T12924 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:26:53,954 T12924 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 272, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 24, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:28:53
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:54,086 T12924 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:26:54,111 T12924 INFO guocai_txj.py|55|组件[BEGIN]执行开始
2016-08-22 17:26:54,115 T12924 INFO guocai_txj.py|56|组件[BEGIN]执行结束
2016-08-22 17:26:54,121 T12924 INFO guocai_txj.py|269|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:26:54,134 T12924 INFO guocai_txj.py|270|将commbuf内容转换到字典中
2016-08-22 17:26:54,151 T12924 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 272, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 24, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:26:54,256 T12924 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 272, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 24, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:28:53
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:26:54,303 T12924 INFO guocai_txj.py|23|组件[pub_error]执行开始
2016-08-22 17:26:54,308 T12924 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:26:54,316 T12924 INFO guocai_txj.py|26|组件[pub_error]执行结束
2016-08-22 17:26:54,319 T12924 INFO guocai_txj.py|320|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:26:54,326 T12924 INFO guocai_txj.py|65|组件[END]执行开始
2016-08-22 17:26:54,335 T12924 INFO guocai_txj.py|67|组件[END]执行结束
2016-08-22 17:26:54,341 T12924 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:26:54,397 T12924 INFO 报文发往送到GAPS成功
2016-08-22 17:26:54,401 T12924 INFO 
--------------提交缓冲日志 END[2016-08-22 17:26:54.402000]---------------

2016-08-22 17:26:54,418 T12924 INFO 无数据break
2016-08-22 17:26:54,444 T12728 INFO 无数据break
2016-08-22 17:33:46,437 T12640 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 17:33:49,895 T12744 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:33:49,940 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:49,944 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:49,951 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:49,959 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:49,982 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:49,993 T12744 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:50,009 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,019 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,023 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,030 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,036 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,043 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,055 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|执行['local2remote'=='local2remote']
2016-08-22 17:33:50,061 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束 返回 1
2016-08-22 17:33:50,068 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,111 T12744 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:33:50,119 T12744 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:50,174 T12744 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:33:50,197 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,203 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,213 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,220 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|将commbuf内容转换到字典中
2016-08-22 17:33:50,232 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:33:50,243 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,265 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,269 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,279 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,283 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,303 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,311 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,325 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,332 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,341 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,351 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,358 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,365 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,374 T12744 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,381 T12744 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:33:50,438 T12744 INFO 报文发往送到GAPS成功
2016-08-22 17:33:50,441 T12744 INFO 
--------------提交缓冲日志 END[2016-08-22 17:33:50.442000]---------------

2016-08-22 17:33:50,505 T11168 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:35:50 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:33:50,559 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,563 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,569 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,582 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,588 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,598 T11168 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:35:50
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:50,658 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,665 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,673 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,681 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,686 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,694 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,721 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|执行['remote2local'=='local2remote']
2016-08-22 17:33:50,726 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束 返回 0
2016-08-22 17:33:50,740 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,773 T11168 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:33:50,779 T11168 INFO 交易字典内容输出：AttrDict{
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:35:50
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:50,828 T11168 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:33:50,846 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,854 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:50,861 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:50,865 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|将commbuf内容转换到字典中
2016-08-22 17:33:50,872 T11168 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 274, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 32, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:33:51,009 T11168 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 274, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 32, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:35:50
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:51,174 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:51,184 T11168 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:33:51,206 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:51,211 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:51,220 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:51,232 T11168 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:51,246 T11168 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:33:51,276 T11168 INFO 报文发往送到GAPS成功
2016-08-22 17:33:51,290 T11168 INFO 
--------------提交缓冲日志 END[2016-08-22 17:33:51.291000]---------------

2016-08-22 17:33:51,308 T11168 INFO 无数据break
2016-08-22 17:33:51,328 T12744 INFO 无数据break
2016-08-22 17:33:52,877 T12952 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:33:52,905 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:52,910 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:52,921 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:52,930 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:52,937 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:52,946 T12952 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 274, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 32, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:53,005 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,012 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,015 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,023 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,028 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,032 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,069 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|执行['local2remote'=='local2remote']
2016-08-22 17:33:53,073 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束 返回 1
2016-08-22 17:33:53,079 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,118 T12952 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:33:53,125 T12952 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 274, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 32, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:53,217 T12952 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:33:53,230 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,236 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,244 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,250 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|将commbuf内容转换到字典中
2016-08-22 17:33:53,255 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:33:53,263 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,269 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,275 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,279 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,282 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,286 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,290 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,296 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,301 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,306 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,312 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,315 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,319 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,326 T12952 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,331 T12952 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:33:53,355 T12952 INFO 报文发往送到GAPS成功
2016-08-22 17:33:53,358 T12952 INFO 
--------------提交缓冲日志 END[2016-08-22 17:33:53.359000]---------------

2016-08-22 17:33:53,414 T12896 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:35:53 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:33:53,451 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,457 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,466 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,476 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,483 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,490 T12896 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 274, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 32, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:35:53
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:53,549 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,559 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,562 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,566 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,578 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,585 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,624 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|执行['remote2local'=='local2remote']
2016-08-22 17:33:53,631 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束 返回 0
2016-08-22 17:33:53,638 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,674 T12896 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:33:53,683 T12896 INFO 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 274, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 32, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:35:53
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:53,750 T12896 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:33:53,763 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,766 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,773 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,778 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|将commbuf内容转换到字典中
2016-08-22 17:33:53,780 T12896 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 274, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 32, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:33:53,855 T12896 ERROR 交易字典内容输出：AttrDict{
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 274, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 32, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:35:53
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:33:53,890 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,898 T12896 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:33:53,907 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,914 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,921 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行开始
2016-08-22 17:33:53,927 T12896 INFO guocai_txj.py|<function lnieno at 0x0272CCF0>|组件[<function funcname at 0x0272CD70>]执行结束
2016-08-22 17:33:53,933 T12896 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:33:53,957 T12896 INFO 报文发往送到GAPS成功
2016-08-22 17:33:53,960 T12896 INFO 
--------------提交缓冲日志 END[2016-08-22 17:33:53.960000]---------------

2016-08-22 17:33:53,967 T12896 INFO 无数据break
2016-08-22 17:33:53,986 T12952 INFO 无数据break
2016-08-22 17:50:16,400 T12816 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 17:50:19,170 T12556 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:50:19,216 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,229 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,237 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,250 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,253 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,259 T12556 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:19,276 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,283 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,289 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,298 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,302 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,309 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,321 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|执行['local2remote'=='local2remote']
2016-08-22 17:50:19,325 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束 返回 1
2016-08-22 17:50:19,342 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,357 T12556 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:50:19,365 T12556 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:19,400 T12556 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:50:19,414 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,421 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,431 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,441 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|将commbuf内容转换到字典中
2016-08-22 17:50:19,447 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:50:19,457 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,466 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,471 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,480 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,484 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 17:50:19,539 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,556 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,563 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,575 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,582 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,591 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,596 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,601 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,611 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,618 T12556 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,624 T12556 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:50:19,648 T12556 INFO 报文发往送到GAPS成功
2016-08-22 17:50:19,654 T12556 INFO 
--------------提交缓冲日志 END[2016-08-22 17:50:19.654000]---------------

2016-08-22 17:50:19,717 T12012 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:52:19 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:50:19,746 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,750 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,759 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,776 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,786 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,798 T12012 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:52:19
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:19,858 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,868 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,878 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,890 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,898 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:19,910 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:19,953 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|执行['remote2local'=='local2remote']
2016-08-22 17:50:19,957 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束 返回 0
2016-08-22 17:50:19,970 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:20,019 T12012 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:50:20,029 T12012 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:52:19
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:20,088 T12012 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:50:20,107 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:20,115 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:20,127 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:20,132 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|将commbuf内容转换到字典中
2016-08-22 17:50:20,138 T12012 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 253, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:50:20,236 T12012 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:52:19
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:20,292 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:20,301 T12012 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:50:20,309 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:20,325 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:20,341 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:20,348 T12012 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:20,358 T12012 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:50:20,388 T12012 INFO 报文发往送到GAPS成功
2016-08-22 17:50:20,392 T12012 INFO 
--------------提交缓冲日志 END[2016-08-22 17:50:20.393000]---------------

2016-08-22 17:50:20,404 T12012 INFO 无数据break
2016-08-22 17:50:20,437 T12556 INFO 无数据break
2016-08-22 17:50:25,792 T13156 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:50:25,813 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:25,818 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:25,823 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:25,832 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:25,839 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:25,848 T13156 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:25,931 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:25,940 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:25,944 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:25,953 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:25,957 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:25,964 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,009 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|执行['local2remote'=='local2remote']
2016-08-22 17:50:26,013 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束 返回 1
2016-08-22 17:50:26,022 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,065 T13156 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:50:26,072 T13156 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:26,160 T13156 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:50:26,174 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,180 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,191 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,196 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|将commbuf内容转换到字典中
2016-08-22 17:50:26,200 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:50:26,207 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,213 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,220 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,229 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,233 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 17:50:26,259 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,266 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,272 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,280 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,285 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,290 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,298 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,302 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,309 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,315 T13156 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,321 T13156 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:50:26,351 T13156 INFO 报文发往送到GAPS成功
2016-08-22 17:50:26,354 T13156 INFO 
--------------提交缓冲日志 END[2016-08-22 17:50:26.354000]---------------

2016-08-22 17:50:26,408 T12348 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:52:26 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:50:26,431 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,441 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,448 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,460 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,466 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,473 T12348 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:52:26
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:26,542 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,552 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,559 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,568 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,575 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,582 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,624 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|执行['remote2local'=='local2remote']
2016-08-22 17:50:26,628 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束 返回 0
2016-08-22 17:50:26,635 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,688 T12348 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:50:26,694 T12348 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:52:26
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:26,765 T12348 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:50:26,780 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,786 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,792 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,798 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|将commbuf内容转换到字典中
2016-08-22 17:50:26,802 T12348 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 253, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:50:26,865 T12348 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:52:26
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:50:26,905 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,910 T12348 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:50:26,914 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,920 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,927 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行开始
2016-08-22 17:50:26,934 T12348 INFO <function cofilename at 0x0266CDB0>|<function lnieno at 0x0266CD70>|组件[<function funcname at 0x0266CC70>]执行结束
2016-08-22 17:50:26,940 T12348 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:50:26,959 T12348 INFO 报文发往送到GAPS成功
2016-08-22 17:50:26,960 T12348 INFO 
--------------提交缓冲日志 END[2016-08-22 17:50:26.961000]---------------

2016-08-22 17:50:26,970 T12348 INFO 无数据break
2016-08-22 17:50:26,983 T13156 INFO 无数据break
2016-08-22 17:55:45,584 T11496 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 17:55:47,825 T12088 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:55:47,865 T12088 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:47,868 T12088 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:47,871 T12088 INFO guocai_txj.py|199|组件[STRAC_Commbuf]执行开始
2016-08-22 17:55:47,878 T12088 INFO guocai_txj.py|202|组件[STRAC_Commbuf]执行结束
2016-08-22 17:55:47,882 T12088 INFO guocai_txj.py|211|组件[STRAC_XMLTree]执行开始
2016-08-22 17:55:47,887 T12088 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:47,905 T12088 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行结束
2016-08-22 17:55:47,911 T12088 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 17:55:47,914 T12088 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 17:55:47,917 T12088 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:55:47,920 T12088 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:55:47,926 T12088 INFO guocai_txj.py|224|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:55:47,934 T12088 INFO guocai_txj.py|226|执行['local2remote'=='local2remote']
2016-08-22 17:55:47,936 T12088 INFO guocai_txj.py|228|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 17:55:47,947 T12088 INFO guocai_txj.py|268|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:55:47,960 T12088 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:55:47,966 T12088 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:47,993 T12088 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:55:48,006 T12088 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:48,010 T12088 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:48,016 T12088 INFO guocai_txj.py|250|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:55:48,019 T12088 INFO guocai_txj.py|251|将commbuf内容转换到字典中
2016-08-22 17:55:48,025 T12088 INFO guocai_txj.py|255|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:55:48,029 T12088 INFO guocai_txj.py|257|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 17:55:48,036 T12088 INFO guocai_txj.py|240|组件[SDATA_MSetValue]执行开始
2016-08-22 17:55:48,039 T12088 INFO guocai_txj.py|241|组件[SDATA_MSetValue]执行结束
2016-08-22 17:55:48,046 T12088 INFO guocai_txj.py|162|组件[PY_GetCipher]执行开始
2016-08-22 17:55:48,058 T12088 INFO guocai_txj.py|164|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 17:55:48,089 T12088 INFO guocai_txj.py|167|组件[PY_GetCipher]执行结束
2016-08-22 17:55:48,095 T12088 INFO guocai_txj.py|153|组件[SAPEX_RESCHECK]执行开始
2016-08-22 17:55:48,098 T12088 INFO guocai_txj.py|154|组件[SAPEX_RESCHECK]执行结束
2016-08-22 17:55:48,104 T12088 INFO guocai_txj.py|175|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 17:55:48,108 T12088 INFO guocai_txj.py|176|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 17:55:48,114 T12088 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 17:55:48,118 T12088 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 17:55:48,124 T12088 INFO guocai_txj.py|302|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:55:48,130 T12088 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 17:55:48,134 T12088 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 17:55:48,138 T12088 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:55:48,171 T12088 INFO 报文发往送到GAPS成功
2016-08-22 17:55:48,174 T12088 INFO 
--------------提交缓冲日志 END[2016-08-22 17:55:48.174000]---------------

2016-08-22 17:55:48,233 T11792 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:57:48 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:55:48,257 T11792 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:48,263 T11792 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:48,270 T11792 INFO guocai_txj.py|199|组件[STRAC_Commbuf]执行开始
2016-08-22 17:55:48,276 T11792 INFO guocai_txj.py|202|组件[STRAC_Commbuf]执行结束
2016-08-22 17:55:48,286 T11792 INFO guocai_txj.py|211|组件[STRAC_XMLTree]执行开始
2016-08-22 17:55:48,293 T11792 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:57:48
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:48,339 T11792 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行结束
2016-08-22 17:55:48,348 T11792 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 17:55:48,351 T11792 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 17:55:48,357 T11792 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:55:48,361 T11792 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:55:48,365 T11792 INFO guocai_txj.py|224|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:55:48,403 T11792 INFO guocai_txj.py|226|执行['remote2local'=='local2remote']
2016-08-22 17:55:48,405 T11792 INFO guocai_txj.py|231|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 17:55:48,414 T11792 INFO guocai_txj.py|268|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:55:48,446 T11792 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:55:48,450 T11792 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:57:48
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:48,506 T11792 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:55:48,522 T11792 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:48,526 T11792 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:48,532 T11792 INFO guocai_txj.py|250|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:55:48,535 T11792 INFO guocai_txj.py|251|将commbuf内容转换到字典中
2016-08-22 17:55:48,539 T11792 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 253, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:55:48,612 T11792 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:57:48
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:48,651 T11792 INFO guocai_txj.py|25|组件[pub_error]执行开始
2016-08-22 17:55:48,654 T11792 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:55:48,660 T11792 INFO guocai_txj.py|28|组件[pub_error]执行结束
2016-08-22 17:55:48,664 T11792 INFO guocai_txj.py|302|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:55:48,671 T11792 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 17:55:48,676 T11792 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 17:55:48,680 T11792 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:55:48,704 T11792 INFO 报文发往送到GAPS成功
2016-08-22 17:55:48,710 T11792 INFO 
--------------提交缓冲日志 END[2016-08-22 17:55:48.710000]---------------

2016-08-22 17:55:48,720 T11792 INFO 无数据break
2016-08-22 17:55:48,740 T12088 INFO 无数据break
2016-08-22 17:55:57,585 T11808 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 17:55:57,604 T11808 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:57,608 T11808 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:57,614 T11808 INFO guocai_txj.py|199|组件[STRAC_Commbuf]执行开始
2016-08-22 17:55:57,619 T11808 INFO guocai_txj.py|202|组件[STRAC_Commbuf]执行结束
2016-08-22 17:55:57,625 T11808 INFO guocai_txj.py|211|组件[STRAC_XMLTree]执行开始
2016-08-22 17:55:57,632 T11808 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:57,713 T11808 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行结束
2016-08-22 17:55:57,717 T11808 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 17:55:57,723 T11808 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 17:55:57,727 T11808 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:55:57,730 T11808 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:55:57,737 T11808 INFO guocai_txj.py|224|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:55:57,783 T11808 INFO guocai_txj.py|226|执行['local2remote'=='local2remote']
2016-08-22 17:55:57,786 T11808 INFO guocai_txj.py|228|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 17:55:57,793 T11808 INFO guocai_txj.py|268|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:55:57,838 T11808 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:55:57,845 T11808 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:57,921 T11808 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:55:57,934 T11808 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:57,940 T11808 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:57,944 T11808 INFO guocai_txj.py|250|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:55:57,947 T11808 INFO guocai_txj.py|251|将commbuf内容转换到字典中
2016-08-22 17:55:57,951 T11808 INFO guocai_txj.py|255|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 17:55:57,957 T11808 INFO guocai_txj.py|257|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 17:55:57,961 T11808 INFO guocai_txj.py|240|组件[SDATA_MSetValue]执行开始
2016-08-22 17:55:57,964 T11808 INFO guocai_txj.py|241|组件[SDATA_MSetValue]执行结束
2016-08-22 17:55:57,971 T11808 INFO guocai_txj.py|162|组件[PY_GetCipher]执行开始
2016-08-22 17:55:57,976 T11808 INFO guocai_txj.py|164|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 17:55:58,013 T11808 INFO guocai_txj.py|167|组件[PY_GetCipher]执行结束
2016-08-22 17:55:58,019 T11808 INFO guocai_txj.py|153|组件[SAPEX_RESCHECK]执行开始
2016-08-22 17:55:58,023 T11808 INFO guocai_txj.py|154|组件[SAPEX_RESCHECK]执行结束
2016-08-22 17:55:58,026 T11808 INFO guocai_txj.py|175|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 17:55:58,030 T11808 INFO guocai_txj.py|176|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 17:55:58,036 T11808 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 17:55:58,040 T11808 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 17:55:58,045 T11808 INFO guocai_txj.py|302|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:55:58,052 T11808 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 17:55:58,056 T11808 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 17:55:58,062 T11808 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:55:58,082 T11808 INFO 报文发往送到GAPS成功
2016-08-22 17:55:58,085 T11808 INFO 
--------------提交缓冲日志 END[2016-08-22 17:55:58.085000]---------------

2016-08-22 17:55:58,155 T8200 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 09:57:58 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 17:55:58,180 T8200 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:58,184 T8200 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:58,191 T8200 INFO guocai_txj.py|199|组件[STRAC_Commbuf]执行开始
2016-08-22 17:55:58,197 T8200 INFO guocai_txj.py|202|组件[STRAC_Commbuf]执行结束
2016-08-22 17:55:58,201 T8200 INFO guocai_txj.py|211|组件[STRAC_XMLTree]执行开始
2016-08-22 17:55:58,217 T8200 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:57:58
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:58,322 T8200 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行结束
2016-08-22 17:55:58,331 T8200 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 17:55:58,335 T8200 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 17:55:58,341 T8200 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 17:55:58,345 T8200 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 17:55:58,351 T8200 INFO guocai_txj.py|224|组件[SDATA_MStrCompare]执行开始
2016-08-22 17:55:58,391 T8200 INFO guocai_txj.py|226|执行['remote2local'=='local2remote']
2016-08-22 17:55:58,394 T8200 INFO guocai_txj.py|231|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 17:55:58,398 T8200 INFO guocai_txj.py|268|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 17:55:58,460 T8200 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 17:55:58,466 T8200 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:57:58
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:58,540 T8200 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 17:55:58,558 T8200 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 17:55:58,562 T8200 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 17:55:58,568 T8200 INFO guocai_txj.py|250|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 17:55:58,572 T8200 INFO guocai_txj.py|251|将commbuf内容转换到字典中
2016-08-22 17:55:58,575 T8200 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 253, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 17:55:58,641 T8200 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 253, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 09:57:58
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 17:55:58,680 T8200 INFO guocai_txj.py|25|组件[pub_error]执行开始
2016-08-22 17:55:58,683 T8200 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 17:55:58,688 T8200 INFO guocai_txj.py|28|组件[pub_error]执行结束
2016-08-22 17:55:58,694 T8200 INFO guocai_txj.py|302|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 17:55:58,700 T8200 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 17:55:58,704 T8200 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 17:55:58,710 T8200 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 17:55:58,733 T8200 INFO 报文发往送到GAPS成功
2016-08-22 17:55:58,736 T8200 INFO 
--------------提交缓冲日志 END[2016-08-22 17:55:58.736000]---------------

2016-08-22 17:55:58,742 T8200 INFO 无数据break
2016-08-22 17:55:58,760 T11808 INFO 无数据break
2016-08-22 18:00:18,244 T12188 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 18:00:20,545 T11248 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 18:00:20,591 T11248 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:20,594 T11248 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:20,601 T11248 INFO guocai_txj.py|201|组件[STRAC_Commbuf]执行开始
2016-08-22 18:00:20,607 T11248 INFO guocai_txj.py|204|组件[STRAC_Commbuf]执行结束
2016-08-22 18:00:20,614 T11248 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行开始
2016-08-22 18:00:20,619 T11248 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:20,638 T11248 INFO guocai_txj.py|215|组件[STRAC_XMLTree]执行结束
2016-08-22 18:00:20,648 T11248 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 18:00:20,651 T11248 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 18:00:20,655 T11248 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 18:00:20,658 T11248 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 18:00:20,665 T11248 INFO guocai_txj.py|226|组件[SDATA_MStrCompare]执行开始
2016-08-22 18:00:20,678 T11248 INFO guocai_txj.py|228|执行['local2remote'=='local2remote']
2016-08-22 18:00:20,680 T11248 INFO guocai_txj.py|230|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 18:00:20,686 T11248 INFO guocai_txj.py|270|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 18:00:20,700 T11248 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 18:00:20,707 T11248 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:20,746 T11248 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 18:00:20,763 T11248 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:20,767 T11248 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:20,776 T11248 INFO guocai_txj.py|252|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 18:00:20,779 T11248 INFO guocai_txj.py|253|将commbuf内容转换到字典中
2016-08-22 18:00:20,785 T11248 INFO guocai_txj.py|257|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 18:00:20,790 T11248 INFO guocai_txj.py|259|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 18:00:20,799 T11248 INFO guocai_txj.py|242|组件[SDATA_MSetValue]执行开始
2016-08-22 18:00:20,805 T11248 INFO guocai_txj.py|243|组件[SDATA_MSetValue]执行结束
2016-08-22 18:00:20,811 T11248 INFO guocai_txj.py|162|组件[PY_GetCipher]执行开始
2016-08-22 18:00:20,815 T11248 INFO guocai_txj.py|164|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 18:00:20,822 T11248 INFO guocai_txj.py|166|字典root={u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}
2016-08-22 18:00:20,857 T11248 INFO guocai_txj.py|169|组件[PY_GetCipher]执行结束
2016-08-22 18:00:20,865 T11248 INFO guocai_txj.py|153|组件[SAPEX_RESCHECK]执行开始
2016-08-22 18:00:20,868 T11248 INFO guocai_txj.py|154|组件[SAPEX_RESCHECK]执行结束
2016-08-22 18:00:20,875 T11248 INFO guocai_txj.py|177|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 18:00:20,881 T11248 INFO guocai_txj.py|178|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 18:00:20,888 T11248 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:00:20,897 T11248 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:00:20,903 T11248 INFO guocai_txj.py|304|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 18:00:20,907 T11248 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:00:20,914 T11248 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:00:20,918 T11248 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 18:00:20,941 T11248 INFO 报文发往送到GAPS成功
2016-08-22 18:00:20,944 T11248 INFO 
--------------提交缓冲日志 END[2016-08-22 18:00:20.944000]---------------

2016-08-22 18:00:21,006 T1304 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 10:02:21 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 18:00:21,038 T1304 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:21,040 T1304 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:21,049 T1304 INFO guocai_txj.py|201|组件[STRAC_Commbuf]执行开始
2016-08-22 18:00:21,055 T1304 INFO guocai_txj.py|204|组件[STRAC_Commbuf]执行结束
2016-08-22 18:00:21,062 T1304 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行开始
2016-08-22 18:00:21,072 T1304 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:02:21
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:21,135 T1304 INFO guocai_txj.py|215|组件[STRAC_XMLTree]执行结束
2016-08-22 18:00:21,142 T1304 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 18:00:21,147 T1304 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 18:00:21,151 T1304 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 18:00:21,155 T1304 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 18:00:21,161 T1304 INFO guocai_txj.py|226|组件[SDATA_MStrCompare]执行开始
2016-08-22 18:00:21,207 T1304 INFO guocai_txj.py|228|执行['remote2local'=='local2remote']
2016-08-22 18:00:21,210 T1304 INFO guocai_txj.py|233|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 18:00:21,217 T1304 INFO guocai_txj.py|270|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 18:00:21,250 T1304 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 18:00:21,256 T1304 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:02:21
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:21,322 T1304 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 18:00:21,338 T1304 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:21,342 T1304 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:21,348 T1304 INFO guocai_txj.py|252|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 18:00:21,354 T1304 INFO guocai_txj.py|253|将commbuf内容转换到字典中
2016-08-22 18:00:21,361 T1304 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 255, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 18:00:21,447 T1304 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 255, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:02:21
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:21,509 T1304 INFO guocai_txj.py|25|组件[pub_error]执行开始
2016-08-22 18:00:21,519 T1304 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 18:00:21,526 T1304 INFO guocai_txj.py|28|组件[pub_error]执行结束
2016-08-22 18:00:21,532 T1304 INFO guocai_txj.py|304|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 18:00:21,542 T1304 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:00:21,549 T1304 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:00:21,555 T1304 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 18:00:21,582 T1304 INFO 报文发往送到GAPS成功
2016-08-22 18:00:21,586 T1304 INFO 
--------------提交缓冲日志 END[2016-08-22 18:00:21.586000]---------------

2016-08-22 18:00:21,595 T1304 INFO 无数据break
2016-08-22 18:00:21,618 T11248 INFO 无数据break
2016-08-22 18:00:25,015 T12656 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 18:00:25,045 T12656 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:25,048 T12656 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:25,053 T12656 INFO guocai_txj.py|201|组件[STRAC_Commbuf]执行开始
2016-08-22 18:00:25,062 T12656 INFO guocai_txj.py|204|组件[STRAC_Commbuf]执行结束
2016-08-22 18:00:25,066 T12656 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行开始
2016-08-22 18:00:25,072 T12656 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 255, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:25,157 T12656 INFO guocai_txj.py|215|组件[STRAC_XMLTree]执行结束
2016-08-22 18:00:25,163 T12656 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 18:00:25,167 T12656 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 18:00:25,173 T12656 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 18:00:25,177 T12656 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 18:00:25,184 T12656 INFO guocai_txj.py|226|组件[SDATA_MStrCompare]执行开始
2016-08-22 18:00:25,221 T12656 INFO guocai_txj.py|228|执行['local2remote'=='local2remote']
2016-08-22 18:00:25,224 T12656 INFO guocai_txj.py|230|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 18:00:25,233 T12656 INFO guocai_txj.py|270|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 18:00:25,278 T12656 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 18:00:25,283 T12656 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 255, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:25,361 T12656 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 18:00:25,375 T12656 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:25,378 T12656 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:25,384 T12656 INFO guocai_txj.py|252|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 18:00:25,387 T12656 INFO guocai_txj.py|253|将commbuf内容转换到字典中
2016-08-22 18:00:25,391 T12656 INFO guocai_txj.py|257|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 18:00:25,395 T12656 INFO guocai_txj.py|259|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 18:00:25,403 T12656 INFO guocai_txj.py|242|组件[SDATA_MSetValue]执行开始
2016-08-22 18:00:25,405 T12656 INFO guocai_txj.py|243|组件[SDATA_MSetValue]执行结束
2016-08-22 18:00:25,411 T12656 INFO guocai_txj.py|162|组件[PY_GetCipher]执行开始
2016-08-22 18:00:25,414 T12656 INFO guocai_txj.py|164|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 18:00:25,421 T12656 INFO guocai_txj.py|166|字典root={u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}
2016-08-22 18:00:25,444 T12656 INFO guocai_txj.py|169|组件[PY_GetCipher]执行结束
2016-08-22 18:00:25,448 T12656 INFO guocai_txj.py|153|组件[SAPEX_RESCHECK]执行开始
2016-08-22 18:00:25,454 T12656 INFO guocai_txj.py|154|组件[SAPEX_RESCHECK]执行结束
2016-08-22 18:00:25,466 T12656 INFO guocai_txj.py|177|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 18:00:25,470 T12656 INFO guocai_txj.py|178|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 18:00:25,474 T12656 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:00:25,483 T12656 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:00:25,487 T12656 INFO guocai_txj.py|304|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 18:00:25,493 T12656 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:00:25,500 T12656 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:00:25,503 T12656 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 18:00:25,523 T12656 INFO 报文发往送到GAPS成功
2016-08-22 18:00:25,528 T12656 INFO 
--------------提交缓冲日志 END[2016-08-22 18:00:25.528000]---------------

2016-08-22 18:00:25,589 T1668 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 10:02:25 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 18:00:25,611 T1668 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:25,615 T1668 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:25,622 T1668 INFO guocai_txj.py|201|组件[STRAC_Commbuf]执行开始
2016-08-22 18:00:25,641 T1668 INFO guocai_txj.py|204|组件[STRAC_Commbuf]执行结束
2016-08-22 18:00:25,645 T1668 INFO guocai_txj.py|213|组件[STRAC_XMLTree]执行开始
2016-08-22 18:00:25,654 T1668 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 255, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:02:25
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:25,740 T1668 INFO guocai_txj.py|215|组件[STRAC_XMLTree]执行结束
2016-08-22 18:00:25,746 T1668 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 18:00:25,750 T1668 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 18:00:25,753 T1668 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 18:00:25,756 T1668 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 18:00:25,762 T1668 INFO guocai_txj.py|226|组件[SDATA_MStrCompare]执行开始
2016-08-22 18:00:25,812 T1668 INFO guocai_txj.py|228|执行['remote2local'=='local2remote']
2016-08-22 18:00:25,815 T1668 INFO guocai_txj.py|233|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 18:00:25,819 T1668 INFO guocai_txj.py|270|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 18:00:25,864 T1668 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 18:00:25,871 T1668 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 255, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:02:25
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:25,947 T1668 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 18:00:25,957 T1668 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:00:25,960 T1668 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:00:25,967 T1668 INFO guocai_txj.py|252|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 18:00:25,970 T1668 INFO guocai_txj.py|253|将commbuf内容转换到字典中
2016-08-22 18:00:25,973 T1668 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 255, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 18:00:26,052 T1668 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 255, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:02:25
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:00:26,086 T1668 INFO guocai_txj.py|25|组件[pub_error]执行开始
2016-08-22 18:00:26,092 T1668 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 18:00:26,096 T1668 INFO guocai_txj.py|28|组件[pub_error]执行结束
2016-08-22 18:00:26,101 T1668 INFO guocai_txj.py|304|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 18:00:26,108 T1668 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:00:26,118 T1668 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:00:26,124 T1668 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 18:00:26,148 T1668 INFO 报文发往送到GAPS成功
2016-08-22 18:00:26,151 T1668 INFO 
--------------提交缓冲日志 END[2016-08-22 18:00:26.151000]---------------

2016-08-22 18:00:26,158 T1668 INFO 无数据break
2016-08-22 18:00:26,173 T12656 INFO 无数据break
2016-08-22 18:05:17,322 T12328 INFO Listening at 0.0.0.0:8028 ...
2016-08-22 18:05:18,822 T13168 INFO 从GAPS接收到的数据：【00000566<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</TransCode></root>】
2016-08-22 18:05:18,859 T13168 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:05:18,861 T13168 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:05:18,867 T13168 INFO guocai_txj.py|203|组件[STRAC_Commbuf]执行开始
2016-08-22 18:05:18,874 T13168 INFO guocai_txj.py|206|组件[STRAC_Commbuf]执行结束
2016-08-22 18:05:18,878 T13168 INFO guocai_txj.py|215|组件[STRAC_XMLTree]执行开始
2016-08-22 18:05:18,881 T13168 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_0': 'None', '_1': '80'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:05:18,900 T13168 INFO guocai_txj.py|217|组件[STRAC_XMLTree]执行结束
2016-08-22 18:05:18,907 T13168 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 18:05:18,911 T13168 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 18:05:18,915 T13168 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 18:05:18,917 T13168 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 18:05:18,923 T13168 INFO guocai_txj.py|228|组件[SDATA_MStrCompare]执行开始
2016-08-22 18:05:18,934 T13168 INFO guocai_txj.py|230|执行['local2remote'=='local2remote']
2016-08-22 18:05:18,937 T13168 INFO guocai_txj.py|232|组件[SDATA_MStrCompare]执行结束 返回 1
2016-08-22 18:05:18,944 T13168 INFO guocai_txj.py|272|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 18:05:18,954 T13168 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 18:05:18,963 T13168 INFO 交易字典内容输出：AttrDict{
commbuf:'00000566<?xml version=\'1.0\' encoding="GB2312"?><root><ver>1.0</ver>
<spid>11111</spid><spbillno>222222</spbillno><business_type>14900</bus
iness_type><business_no>444444</business_no><tran_amt>10000</tran_amt>
<cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre
_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id
><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>265
20300</bank_ins_code><card_prov></card_prov><purpose></purpose><postsc
ript></postscript><md5_sign></md5_sign><TransCode>api_acp_single.cgi</
TransCode></root>'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'local2remote'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:05:18,996 T13168 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 18:05:19,019 T13168 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:05:19,023 T13168 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:05:19,029 T13168 INFO guocai_txj.py|254|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 18:05:19,033 T13168 INFO guocai_txj.py|255|将commbuf内容转换到字典中
2016-08-22 18:05:19,036 T13168 INFO guocai_txj.py|259|转换后的字典resp_dict={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}
2016-08-22 18:05:19,042 T13168 INFO guocai_txj.py|261|组件[SDATA_ImpFromBuf]执行结束
2016-08-22 18:05:19,048 T13168 INFO guocai_txj.py|244|组件[SDATA_MSetValue]执行开始
2016-08-22 18:05:19,051 T13168 INFO guocai_txj.py|245|组件[SDATA_MSetValue]执行结束
2016-08-22 18:05:19,056 T13168 INFO guocai_txj.py|162|组件[PY_GetCipher]执行开始
2016-08-22 18:05:19,059 T13168 INFO guocai_txj.py|164|对字典req={u'root': {u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}}进行处理
2016-08-22 18:05:19,065 T13168 INFO guocai_txj.py|166|字典root={u'business_type': u'14900', u'bank_name': u'10000', u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov': '', u'mobile': '', u'md5_sign': '', u'true_name': u'11111', u'card_id': u'622384609891538799', u'spbillno': u'222222', u'card_type': '', u'postscript': '', u'TransCode': u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111', u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver': u'1.0', u'cur_type': ''}
2016-08-22 18:05:19,071 T13168 INFO guocai_txj.py|168|排序后的数据signdata=bank_ins_code=26520300&bank_name=10000&business_no=444444&business_type=14900&card_id=622384609891538799&spbillno=222222&spid=11111&tran_amt=10000&true_name=11111&ver=1.0
2016-08-22 18:05:19,076 T13168 INFO guocai_txj.py|170|排序后的数据signdata=42f5e82173b880a5213cfc640707a936
2016-08-22 18:05:19,079 T13168 INFO guocai_txj.py|171|组件[PY_GetCipher]执行结束
2016-08-22 18:05:19,085 T13168 INFO guocai_txj.py|153|组件[SAPEX_RESCHECK]执行开始
2016-08-22 18:05:19,089 T13168 INFO guocai_txj.py|154|组件[SAPEX_RESCHECK]执行结束
2016-08-22 18:05:19,095 T13168 INFO guocai_txj.py|179|组件[SPKG_IXMLtoOXML]执行开始
2016-08-22 18:05:19,098 T13168 INFO guocai_txj.py|180|组件[SPKG_IXMLtoOXML]执行结束
2016-08-22 18:05:19,108 T13168 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:05:19,115 T13168 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:05:19,121 T13168 INFO guocai_txj.py|306|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 18:05:19,128 T13168 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:05:19,132 T13168 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:05:19,137 T13168 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 18:05:19,158 T13168 INFO 报文发往送到GAPS成功
2016-08-22 18:05:19,161 T13168 INFO 
--------------提交缓冲日志 END[2016-08-22 18:05:19.162000]---------------

2016-08-22 18:05:19,227 T1304 INFO 从GAPS接收到的数据：【HTTP/1.1 400 Bad Request
Date: Mon, 22 Aug 2016 10:07:19 GMT
Server: Apache/2.4.12 (Unix) OpenSSL/1.0.2
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
】
2016-08-22 18:05:19,256 T1304 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:05:19,259 T1304 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:05:19,266 T1304 INFO guocai_txj.py|203|组件[STRAC_Commbuf]执行开始
2016-08-22 18:05:19,273 T1304 INFO guocai_txj.py|206|组件[STRAC_Commbuf]执行结束
2016-08-22 18:05:19,280 T1304 INFO guocai_txj.py|215|组件[STRAC_XMLTree]执行开始
2016-08-22 18:05:19,286 T1304 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:07:19
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_0': 'None', '_1': '80'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:05:19,361 T1304 INFO guocai_txj.py|217|组件[STRAC_XMLTree]执行结束
2016-08-22 18:05:19,368 T1304 INFO guocai_txj.py|131|组件[Agentx_SysInit]执行开始
2016-08-22 18:05:19,374 T1304 INFO guocai_txj.py|132|组件[Agentx_SysInit]执行结束
2016-08-22 18:05:19,378 T1304 INFO guocai_txj.py|143|组件[SSYS_GetIniCfg]执行开始
2016-08-22 18:05:19,382 T1304 INFO guocai_txj.py|144|组件[SSYS_GetIniCfg]执行结束
2016-08-22 18:05:19,391 T1304 INFO guocai_txj.py|228|组件[SDATA_MStrCompare]执行开始
2016-08-22 18:05:19,426 T1304 INFO guocai_txj.py|230|执行['remote2local'=='local2remote']
2016-08-22 18:05:19,427 T1304 INFO guocai_txj.py|235|组件[SDATA_MStrCompare]执行结束 返回 0
2016-08-22 18:05:19,437 T1304 INFO guocai_txj.py|272|组件[SCNTR_CallSubFlow]执行开始
2016-08-22 18:05:19,473 T1304 INFO 执行[subflow_sys_guocai_remote2local]
2016-08-22 18:05:19,480 T1304 INFO 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:07:19
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_3': 'None', '_2': '0', '_1':
'subflow_[jyzd/subsysname]_remote2local'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:05:19,526 T1304 INFO jyzd[<class 'utils.ftools.AttrDict'>]
2016-08-22 18:05:19,538 T1304 INFO guocai_txj.py|57|组件[BEGIN]执行开始
2016-08-22 18:05:19,543 T1304 INFO guocai_txj.py|58|组件[BEGIN]执行结束
2016-08-22 18:05:19,552 T1304 INFO guocai_txj.py|254|组件[SDATA_ImpFromBuf]执行开始
2016-08-22 18:05:19,555 T1304 INFO guocai_txj.py|255|将commbuf内容转换到字典中
2016-08-22 18:05:19,562 T1304 ERROR Traceback (most recent call last):
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\utils\utils.py", line 20, in _call
    r = func( _jyzd )
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\guocai_txj.py", line 257, in SDATA_ImpFromBuf
    xml = changeCode(xml,'UTF-8')
  File "H:\share\work\银联全渠道\天付宝通讯机\tfb_txj\bin\tysf_uitls.py", line 40, in changeCode
    coding_before  = re.findall('encoding="(.*?)"',xml,re.S)[0]
                 xml = '<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">\n<html><head>\n<title>400 Bad Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser sent a request that this server could not understand.<br />\n</p>\n</body></html>'
              coding = 'UTF-8'
IndexError: list index out of range

2016-08-22 18:05:19,628 T1304 ERROR 交易字典内容输出：AttrDict{
REQ:{u'root': {u'business_type': u'14900', u'bank_name': u'10000',
u'cre_id': '', u'cre_type': '', u'tran_amt': u'10000', u'card_prov':
'', u'mobile': '', u'md5_sign': '', u'true_name': u'11111',
u'card_id': u'622384609891538799', u'spbillno': u'222222',
u'card_type': '', u'postscript': '', u'TransCode':
u'api_acp_single.cgi', u'purpose': '', u'spid': u'11111',
u'business_no': u'444444', u'bank_ins_code': u'26520300', u'ver':
u'1.0', u'cur_type': ''}}
SYS_RspCode:'TS0004'
SYS_RspInfo:'Traceback (most recent call last):\n  File "H:\\share\\work\\\xd2\xf8
\xc1\xaa\xc8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1
\xb6\xbb\xfa\\tfb_txj\\bin\\utils\\utils.py", line 20, in _call\n    r
= func( _jyzd )\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\xc8\xab\xc7
\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\xfa\\tfb_tx
j\\bin\\guocai_txj.py", line 257, in SDATA_ImpFromBuf\n    xml =
changeCode(xml,\'UTF-8\')\n  File "H:\\share\\work\\\xd2\xf8\xc1\xaa\x
c8\xab\xc7\xfe\xb5\xc0\\\xcc\xec\xb8\xb6\xb1\xa6\xcd\xa8\xd1\xb6\xbb\x
fa\\tfb_txj\\bin\\tysf_uitls.py", line 40, in changeCode\n
coding_before  = re.findall(\'encoding="(.*?)"\',xml,re.S)[0]\n
xml = \'<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\\n<html><head>\\n<title>400 Bad
Request</title>\\n</head><body>\\n<h1>Bad Request</h1>\\n<p>Your
browser sent a request that this server could not understand.<br
/>\\n</p>\\n</body></html>\'\n              coding =
\'UTF-8\'\nIndexError: list index out of range\n'
commbuf:'HTTP/1.1 400 Bad Request\r\nDate: Mon, 22 Aug 2016 10:07:19
GMT\r\nServer: Apache/2.4.12 (Unix) OpenSSL/1.0.2\r\nContent-Length:
226\r\nConnection: close\r\nContent-Type: text/html;
charset=iso-8859-1\r\n\r\n<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML
2.0//EN">\n<html><head>\n<title>400 Bad
Request</title>\n</head><body>\n<h1>Bad Request</h1>\n<p>Your browser
sent a request that this server could not understand.<br
/>\n</p>\n</body></html>\n'
input:{'_4': '0', '_3': '1', '_2': '/jyzd', '_1': '/commbuf'}
name:'remote2local'
pub:{'subsysname': 'sys_guocai'}
resp:'POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1\n\nContent-Length:
557\n\nHost: apitest.tfb8.com\n\nReferer: http://apitest.tfb8.com/cgi-
bin/v2.0/api_acp_single.cgi\n\nAccept-Encoding: GBK, deflate\n\nCache-
Control: no-cache\n\nAccept-Language: zh-cn\n\nContent-Type:
application/x-www-form-urlencoded\n\nConnection: Keep-Alive\n\nAccept:
image/gif, */*\n\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0;
Windows NT 5.1; SV1; .NET CLR 2.0.50727)\n\n\n\n<?xml version=\'1.0\' 
encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222
222</spbillno><business_type>14900</business_type><business_no>444444<
/business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name
>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_ty
pe><card_id>622384609891538799</card_id><card_type></card_type><bank_n
ame>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov
></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f
5e82173b880a5213cfc640707a936</md5_sign></root>\xa1\xbf\n'
subsysname:'sys_guocai'
systemsign:'sys_guocai'
}

2016-08-22 18:05:19,667 T1304 INFO guocai_txj.py|25|组件[pub_error]执行开始
2016-08-22 18:05:19,673 T1304 INFO 交易异常，更新响应码响应信息，更新流水，插入冲正表
2016-08-22 18:05:19,678 T1304 INFO guocai_txj.py|28|组件[pub_error]执行结束
2016-08-22 18:05:19,683 T1304 INFO guocai_txj.py|306|组件[SCNTR_CallSubFlow]执行结束
2016-08-22 18:05:19,687 T1304 INFO guocai_txj.py|67|组件[END]执行开始
2016-08-22 18:05:19,694 T1304 INFO guocai_txj.py|69|组件[END]执行结束
2016-08-22 18:05:19,697 T1304 INFO 从三方接收到的数据：【POST /cgi-bin/v2.0/api_acp_single.cgi HTTP/1.1

Content-Length: 557

Host: apitest.tfb8.com

Referer: http://apitest.tfb8.com/cgi-bin/v2.0/api_acp_single.cgi

Accept-Encoding: GBK, deflate

Cache-Control: no-cache

Accept-Language: zh-cn

Content-Type: application/x-www-form-urlencoded

Connection: Keep-Alive

Accept: image/gif, */*

User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)



<?xml version='1.0' encoding="GB2312"?><root><ver>1.0</ver><spid>11111</spid><spbillno>222222</spbillno><business_type>14900</business_type><business_no>444444</business_no><tran_amt>10000</tran_amt><cur_type></cur_type><true_name>11111</true_name><mobile></mobile><cre_id></cre_id><cre_type></cre_type><card_id>622384609891538799</card_id><card_type></card_type><bank_name>10000</bank_name><bank_ins_code>26520300</bank_ins_code><card_prov></card_prov><purpose></purpose><postscript></postscript><md5_sign>42f5e82173b880a5213cfc640707a936</md5_sign></root>】
】
2016-08-22 18:05:19,717 T1304 INFO 报文发往送到GAPS成功
2016-08-22 18:05:19,720 T1304 INFO 
--------------提交缓冲日志 END[2016-08-22 18:05:19.720000]---------------

2016-08-22 18:05:19,729 T1304 INFO 无数据break
2016-08-22 18:05:19,742 T13168 INFO 无数据break
